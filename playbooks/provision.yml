---
- hosts: localhost
  name: Provision
  gather_facts: no
  pre_tasks:
    - name: install python 2
      raw: test -e /usr/bin/python || (sudo dnf update -y && sudo dnf install -y python python-dnf)
      changed_when: False
  become: true
  vars_prompt:
    - name: "ansible_become_pass"
      prompt: "Sudo password"
      private: yes
  vars:
  - ansible_os_family: 'RedHat'

  roles:
    - opsjono.package_installations
    - opsjono.gitkraken
    - opsjono.phpstorm
    - opsjono.mysql_workbench
    - opsjono.mjml
    - avnes.slack
    - opsjono.spotify
