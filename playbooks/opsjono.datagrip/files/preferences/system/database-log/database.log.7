-- [ --------------------------------------------------
-- 2020-02-10 13:40:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839291] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:40:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839291] results received
-- 2020-02-10 13:40:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839291] finished - execution time: 55 ms, fetching time: 41 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:40:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839292] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:40:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839292] results received
-- 2020-02-10 13:40:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839292] finished - execution time: 43 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:40:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839293] 
select * from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:40:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839293] results received
-- 2020-02-10 13:40:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839293] finished - execution time: 258 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:41:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839294] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:41:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839294] results received
-- 2020-02-10 13:41:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839294] finished - execution time: 32 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:41:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839295] 
select * from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:41:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839295] results received
-- 2020-02-10 13:41:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839295] finished - execution time: 258 ms, fetching time: 214 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839296] 
update customisation_files_perceptual_hashes set perceptual_hash = null where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-10 13:42:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839296] update count received - 12300
-- 2020-02-10 13:42:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839296] finished - execution time: 361 ms, fetching time: 33 ms, total update count: 12300
-- [ --------------------------------------------------
-- 2020-02-10 13:42:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839297] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:42:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839297] results received
-- 2020-02-10 13:42:20 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839297] finished - execution time: 41 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839298] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:42:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839298] results received
-- 2020-02-10 13:42:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839298] finished - execution time: 37 ms, fetching time: 40 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839299] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-10 13:42:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839299] results received
-- 2020-02-10 13:42:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839299] finished - execution time: 148 ms, fetching time: 154 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839300] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:42:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839300] results received
-- 2020-02-10 13:42:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839300] finished - execution time: 34 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839301] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is null
-- ] --------------------------------------------------
-- 2020-02-10 13:42:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839301] results received
-- 2020-02-10 13:42:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839301] finished - execution time: 97 ms, fetching time: 84 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839302] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:42:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839302] results received
-- 2020-02-10 13:42:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839302] finished - execution time: 32 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:42:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839303] 
select * from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:42:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839303] results received
-- 2020-02-10 13:42:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839303] finished - execution time: 293 ms, fetching time: 278 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:43:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839304] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:43:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839304] results received
-- 2020-02-10 13:43:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839304] finished - execution time: 35 ms, fetching time: 42 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:43:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839305] 
select distinct(error) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:43:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839305] results received
-- 2020-02-10 13:43:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839305] finished - execution time: 167 ms, fetching time: 244 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:43:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839306] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:43:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839306] results received
-- 2020-02-10 13:43:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839306] finished - execution time: 36 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:43:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839307] 
select * from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:43:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839307] results received
-- 2020-02-10 13:43:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839307] finished - execution time: 308 ms, fetching time: 205 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839308] 
update customisation_files_perceptual_hashes set perceptual_hash = '' where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:44:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839308] update count received - 297
-- 2020-02-10 13:44:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839308] finished - execution time: 307 ms, fetching time: 31 ms, total update count: 297
-- [ --------------------------------------------------
-- 2020-02-10 13:44:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839309] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:44:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839309] results received
-- 2020-02-10 13:44:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839309] finished - execution time: 36 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839310] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:44:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839310] results received
-- 2020-02-10 13:44:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839310] finished - execution time: 49 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839311] 
select * from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:44:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839311] results received
-- 2020-02-10 13:44:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839311] finished - execution time: 311 ms, fetching time: 178 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839312] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:44:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839312] results received
-- 2020-02-10 13:44:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839312] finished - execution time: 34 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839313] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is null
-- ] --------------------------------------------------
-- 2020-02-10 13:44:20 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839313] results received
-- 2020-02-10 13:44:20 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839313] finished - execution time: 95 ms, fetching time: 122 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839314] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:44:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839314] results received
-- 2020-02-10 13:44:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839314] finished - execution time: 33 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:44:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839315] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-10 13:44:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839315] results received
-- 2020-02-10 13:44:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839315] finished - execution time: 118 ms, fetching time: 80 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839316] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839316] results received
-- 2020-02-10 13:50:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839316] finished - execution time: 27 ms, fetching time: 55 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839317] 
select * from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:50:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839317] results received
-- 2020-02-10 13:50:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839317] finished - execution time: 256 ms, fetching time: 148 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839318] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839318] results received
-- 2020-02-10 13:50:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839318] finished - execution time: 24 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839319] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:50:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839319] results received
-- 2020-02-10 13:50:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839319] finished - execution time: 130 ms, fetching time: 71 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839320] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839320] results received
-- 2020-02-10 13:50:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839320] finished - execution time: 26 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839321] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-10 13:50:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839321] results received
-- 2020-02-10 13:50:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839321] finished - execution time: 84 ms, fetching time: 80 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839322] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839322] results received
-- 2020-02-10 13:50:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839322] finished - execution time: 23 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839323] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:50:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839323] results received
-- 2020-02-10 13:50:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839323] finished - execution time: 130 ms, fetching time: 72 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839324] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839324] results received
-- 2020-02-10 13:50:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839324] finished - execution time: 27 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839325] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-10 13:50:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839325] results received
-- 2020-02-10 13:50:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839325] finished - execution time: 75 ms, fetching time: 69 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839326] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839326] results received
-- 2020-02-10 13:50:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839326] finished - execution time: 25 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839327] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:50:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839327] results received
-- 2020-02-10 13:50:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839327] finished - execution time: 129 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839328] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:50:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839328] results received
-- 2020-02-10 13:50:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839328] finished - execution time: 24 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:50:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839329] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:50:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839329] results received
-- 2020-02-10 13:50:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839329] finished - execution time: 129 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:59:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839330] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:59:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839330] results received
-- 2020-02-10 13:59:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839330] finished - execution time: 24 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:59:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839331] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:59:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839331] results received
-- 2020-02-10 13:59:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839331] finished - execution time: 126 ms, fetching time: 66 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:59:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839332] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:59:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839332] results received
-- 2020-02-10 13:59:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839332] finished - execution time: 24 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:59:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839333] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is null
-- ] --------------------------------------------------
-- 2020-02-10 13:59:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839333] results received
-- 2020-02-10 13:59:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839333] finished - execution time: 77 ms, fetching time: 89 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:59:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839334] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 13:59:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839334] results received
-- 2020-02-10 13:59:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839334] finished - execution time: 24 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 13:59:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839335] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 13:59:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839335] results received
-- 2020-02-10 13:59:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839335] finished - execution time: 138 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:05:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839336] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:05:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839336] results received
-- 2020-02-10 14:05:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839336] finished - execution time: 80 ms, fetching time: 64 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:05:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839337] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 14:05:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839337] results received
-- 2020-02-10 14:05:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839337] finished - execution time: 248 ms, fetching time: 127 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:06:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839338] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:06:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839338] results received
-- 2020-02-10 14:06:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839338] finished - execution time: 25 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:06:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839339] 
select id, file_type, url, error from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 14:06:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839339] results received
-- 2020-02-10 14:06:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839339] finished - execution time: 75 ms, fetching time: 212 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:06:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839340] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:06:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839340] results received
-- 2020-02-10 14:06:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839340] finished - execution time: 31 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:06:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839341] 
select id, created_at, file_type, url, error from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 14:06:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839341] results received
-- 2020-02-10 14:06:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839341] finished - execution time: 80 ms, fetching time: 264 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:06:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839342] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:06:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839342] results received
-- 2020-02-10 14:06:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839342] finished - execution time: 99 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:06:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839343] 
select id, created_at, file_type, url, error from customisation_files_perceptual_hashes where error like "Client error:%"
-- ] --------------------------------------------------
-- 2020-02-10 14:06:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839343] results received
-- 2020-02-10 14:06:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839343] finished - execution time: 369 ms, fetching time: 352 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:07:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839344] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:07:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839344] results received
-- 2020-02-10 14:07:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839344] finished - execution time: 38 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:07:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839345] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is null
-- ] --------------------------------------------------
-- 2020-02-10 14:07:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839345] results received
-- 2020-02-10 14:07:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839345] finished - execution time: 173 ms, fetching time: 131 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839346] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839346] results received
-- 2020-02-10 14:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839346] finished - execution time: 49 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839347] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 14:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839347] results received
-- 2020-02-10 14:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839347] finished - execution time: 230 ms, fetching time: 161 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839348] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839348] results received
-- 2020-02-10 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839348] finished - execution time: 39 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839349] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-10 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839349] results received
-- 2020-02-10 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839349] finished - execution time: 136 ms, fetching time: 153 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:11:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839350] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:11:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839350] results received
-- 2020-02-10 14:11:33 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839350] finished - execution time: 41 ms, fetching time: 45 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:11:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839351] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-10 14:11:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839351] results received
-- 2020-02-10 14:11:34 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839351] finished - execution time: 158 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:15:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839352] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:15:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839352] results received
-- 2020-02-10 14:15:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839352] finished - execution time: 28 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:15:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839353] 
select id, created_at, file_type, url, error from customisation_files_perceptual_hashes where error like "Client error:%"
-- ] --------------------------------------------------
-- 2020-02-10 14:15:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839353] results received
-- 2020-02-10 14:15:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839353] finished - execution time: 201 ms, fetching time: 157 ms, total result sets count: 1
-- 2020-02-10 14:18:25 [default] [Production RDS-RO] [session id: 824949357] connected
-- [ --------------------------------------------------
-- 2020-02-10 14:18:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839354] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839354] finished - execution time: 187 ms
-- [ --------------------------------------------------
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839355] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839355] results received
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839355] finished - execution time: 113 ms, fetching time: 98 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839356] 
select * from customisation_files
where id = 1875321
-- ] --------------------------------------------------
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839356] results received
-- 2020-02-10 14:18:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 824949357] [statement id: 950839356] finished - execution time: 262 ms, fetching time: 136 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839357] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839357] results received
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839357] finished - execution time: 47 ms, fetching time: 56 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839358] 
select count(id, created_at, file_type, url, error) from customisation_files_perceptual_hashes where error like "Client error:%"
-- ] --------------------------------------------------
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839358] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' created_at, file_type, url, error) from customisation_files_perceptual_hashes w' at line 1
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839358] finished - execution time: 166 ms
-- 2020-02-10 15:06:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' created_at, file_type, url, error) from customisation_files_perceptual_hashes w' at line 1
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' created_at, file_type, url, error) from customisation_files_perceptual_hashes w' at line 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839359] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839359] results received
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839359] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' created_at, file_type, url, error) from customisation_files_perceptual_hashes w' at line 1
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839359] finished - execution time: 132 ms, fetching time: 101 ms, total result sets count: 1
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ' created_at, file_type, url, error) from customisation_files_perceptual_hashes w' at line 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839360] 
select count(*) from customisation_files_perceptual_hashes where error like "Client error:%"
-- ] --------------------------------------------------
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839360] results received
-- 2020-02-10 15:06:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839360] finished - execution time: 200 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839361] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839361] results received
-- 2020-02-10 15:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839361] finished - execution time: 41 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839362] 
select count(*) from customisation_files_perceptual_hashes where error not like "Client error:%" and error is not null
-- ] --------------------------------------------------
-- 2020-02-10 15:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839362] results received
-- 2020-02-10 15:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839362] finished - execution time: 189 ms, fetching time: 126 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839363] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:06:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839363] results received
-- 2020-02-10 15:06:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839363] finished - execution time: 41 ms, fetching time: 60 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:06:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839364] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is null
-- ] --------------------------------------------------
-- 2020-02-10 15:06:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839364] results received
-- 2020-02-10 15:06:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839364] finished - execution time: 176 ms, fetching time: 140 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839365] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:20:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839365] results received
-- 2020-02-10 15:20:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839365] finished - execution time: 31 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839366] 
select count(*) from customisation_files_prod_backup
-- ] --------------------------------------------------
-- 2020-02-10 15:20:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839366] results received
-- 2020-02-10 15:20:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839366] finished - execution time: 109 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839367] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:20:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839367] results received
-- 2020-02-10 15:20:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839367] finished - execution time: 28 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:21 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839368] 
select count(*) from customisation_files_prod_backup
-- ] --------------------------------------------------
-- 2020-02-10 15:20:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839368] results received
-- 2020-02-10 15:20:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839368] finished - execution time: 79 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839369] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:20:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839369] results received
-- 2020-02-10 15:20:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839369] finished - execution time: 23 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839370] 
select count(*) from customisation_files_prod_backup
-- ] --------------------------------------------------
-- 2020-02-10 15:20:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839370] results received
-- 2020-02-10 15:20:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839370] finished - execution time: 72 ms, fetching time: 104 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839371] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:20:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839371] results received
-- 2020-02-10 15:20:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839371] finished - execution time: 26 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839372] 
select count(*) from customisation_files_prod_backup
-- ] --------------------------------------------------
-- 2020-02-10 15:20:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839372] results received
-- 2020-02-10 15:20:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839372] finished - execution time: 98 ms, fetching time: 75 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839373] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:20:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839373] results received
-- 2020-02-10 15:20:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839373] finished - execution time: 23 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839374] 
select count(*) from customisation_files_prod_backup
-- ] --------------------------------------------------
-- 2020-02-10 15:20:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839374] results received
-- 2020-02-10 15:20:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839374] finished - execution time: 107 ms, fetching time: 78 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839375] 
show full processlist
-- ] --------------------------------------------------
-- 2020-02-10 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839375] results received
-- 2020-02-10 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839375] finished - execution time: 51 ms, fetching time: 48 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839376] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839376] results received
-- 2020-02-10 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839376] finished - execution time: 26 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:21:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839377] 
select database()
-- ] --------------------------------------------------
-- 2020-02-10 15:21:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839377] results received
-- 2020-02-10 15:21:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839377] finished - execution time: 24 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-10 15:21:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839378] 
select count(*) from customisation_files_prod_backup
-- ] --------------------------------------------------
-- 2020-02-10 15:21:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839378] results received
-- 2020-02-10 15:21:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 824949354] [statement id: 950839378] finished - execution time: 82 ms, fetching time: 96 ms, total result sets count: 1
-- 2020-02-10 15:36:37 [default] [Production RDS-RO] [session id: 824949357] disconnected
-- 2020-02-10 15:36:37 [default] [Staging RDS-RO] [session id: 824949354] disconnected
-- 2020-02-11 08:21:07 [default] [Production RDS-RO] [session id: 439183056] connected
-- [ --------------------------------------------------
-- 2020-02-11 08:21:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280287] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 08:21:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280287] finished - execution time: 118 ms
-- [ --------------------------------------------------
-- 2020-02-11 08:21:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280288] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:21:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280288] results received
-- 2020-02-11 08:21:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280288] finished - execution time: 124 ms, fetching time: 111 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:21:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280289] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE pq.date_created BETWEEN now() AND date_sub(now(), interval 1 day)
            AND pq.deleted_at = '0000-00-00 00:00:00'
-- ] --------------------------------------------------
-- 2020-02-11 08:21:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280289] results received
-- 2020-02-11 08:21:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280289] finished - execution time: 294 ms, fetching time: 118 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280290] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280290] results received
-- 2020-02-11 08:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280290] finished - execution time: 167 ms, fetching time: 117 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280291] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE pq.date_created BETWEEN now() AND date_sub(now(), interval 5 day)
            AND pq.deleted_at = '0000-00-00 00:00:00'
-- ] --------------------------------------------------
-- 2020-02-11 08:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280291] results received
-- 2020-02-11 08:21:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280291] finished - execution time: 284 ms, fetching time: 115 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:22:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280292] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:22:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280292] results received
-- 2020-02-11 08:22:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280292] finished - execution time: 176 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:22:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE  pq.deleted_at = '0000-00-00 00:00:00'
-- ] --------------------------------------------------
-- 2020-02-11 08:22:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] results received
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280293] finished - execution time: 517 ms, fetching time: 950 ms, total result sets count: 1
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- [ --------------------------------------------------
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] results received
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280294] finished - execution time: 54 ms, fetching time: 31 ms, total result sets count: 1
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- [ --------------------------------------------------
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280295] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE  pq.deleted_at = '0000-00-00 00:00:00'
        and custom_type = 'emb_creativeb'
-- ] --------------------------------------------------
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280295] results received
-- 2020-02-11 08:22:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280295] finished - execution time: 228 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:22:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280296] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:22:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280296] results received
-- 2020-02-11 08:22:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280296] finished - execution time: 103 ms, fetching time: 86 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:22:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280297] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE  pq.deleted_at = '0000-00-00 00:00:00'
        and custom_type = ''
-- ] --------------------------------------------------
-- 2020-02-11 08:22:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280297] results received
-- 2020-02-11 08:22:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280297] finished - execution time: 244 ms, fetching time: 69 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:22:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280298] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:22:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280298] results received
-- 2020-02-11 08:22:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280298] finished - execution time: 314 ms, fetching time: 109 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:22:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE  pq.deleted_at = '0000-00-00 00:00:00'
-- ] --------------------------------------------------
-- 2020-02-11 08:22:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] results received
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:22:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280299] finished - execution time: 339 ms, fetching time: 493 ms, total result sets count: 1
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- [ --------------------------------------------------
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] results received
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280300] finished - execution time: 75 ms, fetching time: 107 ms, total result sets count: 1
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- [ --------------------------------------------------
-- 2020-02-11 08:23:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] 
SELECT  pq.orders_id, pq.staff_id, pq.date_created, pqr.garment_reorder, pq.qc_group_id, pq.location_reported, pqr.qc_reason_class, pqr.qc_reason_text, pq.products_quantity AS qc_qty, op.orders_products_id, opc.orders_products_customisations_id, op.products_id, op.products_name, op.vendors_product_price, op.products_quantity, op.vendors_id, oc.custom_type,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX(op.products_stock_attributes, ',', 1),
			'-' ,- 1 ) AS colour_id,
		SUBSTRING_INDEX(
			SUBSTRING_INDEX( op.products_stock_attributes, ',', 2),
			'-' ,- 1) AS size_id,
		(	SELECT group_concat(oc2.custom_type) AS cust_cnt
			FROM orders_products_customisations AS opc2, orders_customisations AS oc2
			WHERE opc2.orders_products_id = pq.orders_products_id
				AND opc2.orders_id = oc2.order_id
				AND opc2.customisation_id = oc2.customisation_id
		) AS cust_apps_cnt,
		(	SELECT GROUP_CONCAT(DISTINCT pe.equipment_shortname)
			FROM clothes2_osC.production_staff_actions AS psa, clothes2_osC.production_action_equipment AS pae, clothes2_osC.production_equipment AS pe
			WHERE psa.orders_id = oc.order_id
				AND psa.custom_id = oc.custom_id
				AND psa.actions_id = pae.actions_id
				AND pae.equipment_id = pe.equipment_id
			GROUP BY psa.custom_id,psa.orders_id
		) AS equipment,
		IF((SELECT COUNT(cn.custom_names_id)
			FROM custom_names AS cn
			WHERE cn.custom_products_id = op.products_id
				AND cn.custom_products_colour = colour_id
				AND cn.custom_products_size = size_id
				AND cn.custom_order_id = pq.orders_id
		) > 0, 1, 0) AS names_numbes,
		IFNULL(
			oc.assigned_artworker,
			(	SELECT DISTINCT cn.assigned_artworker
				FROM custom_names AS cn
				WHERE cn.custom_products_id = op.products_id
					AND cn.custom_products_colour = colour_id
					AND cn.custom_products_size = size_id
					AND cn.custom_order_id = pq.orders_id
			)
		) AS assigned_artworker,
		pq.operator_id
		FROM production_qc AS pq
		LEFT JOIN orders_products AS op ON ( pq.orders_id = op.orders_id AND pq.orders_products_id = op.orders_products_id )
		LEFT JOIN orders_products_customisations AS opc ON ( pq.orders_id = opc.orders_id AND pq.orders_products_customisations_id = opc.orders_products_customisations_id )
		LEFT JOIN orders_customisations AS oc ON ( pq.orders_id = oc.order_id AND pq.custom_id = oc.custom_id)
		LEFT JOIN production_qc_reasons AS pqr ON (pq.issue_id = pqr.qc_reason_id)
		WHERE  pq.deleted_at = '0000-00-00 00:00:00'
order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] results received
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:23:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280301] finished - execution time: 189 ms, fetching time: 381 ms, total result sets count: 1
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- [ --------------------------------------------------
-- 2020-02-11 08:36:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] results received
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280302] finished - execution time: 199 ms, fetching time: 56 ms, total result sets count: 1
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] warning - [22007][1292] Truncated incorrect DOUBLE value: 'nn'
-- [ --------------------------------------------------
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280303] 
select * from products_stock
-- ] --------------------------------------------------
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280303] results received
-- 2020-02-11 08:36:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280303] finished - execution time: 260 ms, fetching time: 152 ms, total result sets count: 1
-- 2020-02-11 08:49:50 [default] [Staging RDS-RO] [session id: 439183057] connected
-- [ --------------------------------------------------
-- 2020-02-11 08:49:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280304] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 08:49:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280304] finished - execution time: 48 ms
-- [ --------------------------------------------------
-- 2020-02-11 08:49:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280305] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:49:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280305] results received
-- 2020-02-11 08:49:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280305] finished - execution time: 63 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:49:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280306] 
select count(*) from customisation_files_perceptual_hashes where error not like "Client error:%" and error is not null
-- ] --------------------------------------------------
-- 2020-02-11 08:49:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280306] results received
-- 2020-02-11 08:49:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280306] finished - execution time: 130 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:49:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280307] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:49:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280307] results received
-- 2020-02-11 08:49:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280307] finished - execution time: 36 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:49:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280308] 
select count(*) from customisation_files_perceptual_hashes where error not like "Client error:%" and error is not null
-- ] --------------------------------------------------
-- 2020-02-11 08:49:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280308] results received
-- 2020-02-11 08:49:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280308] finished - execution time: 138 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:50:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280309] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 08:50:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280309] results received
-- 2020-02-11 08:50:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280309] finished - execution time: 27 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 08:50:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280310] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-11 08:50:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280310] results received
-- 2020-02-11 08:50:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280310] finished - execution time: 137 ms, fetching time: 91 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:38:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280311] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:38:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280311] results received
-- 2020-02-11 09:38:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280311] finished - execution time: 48 ms, fetching time: 88 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:38:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280312] 
select count(*), count(distinct perceptual_hash) from customisation_files_perceptual_hashes where perceptual_hash is not null
-- ] --------------------------------------------------
-- 2020-02-11 09:38:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280312] results received
-- 2020-02-11 09:38:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280312] finished - execution time: 325 ms, fetching time: 102 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:39:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280313] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:39:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280313] results received
-- 2020-02-11 09:39:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280313] finished - execution time: 36 ms, fetching time: 46 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:39:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280314] 
select count(*), count(distinct perceptual_hash) from customisation_files_perceptual_hashes where perceptual_hash is not null and error is null
-- ] --------------------------------------------------
-- 2020-02-11 09:39:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280314] results received
-- 2020-02-11 09:39:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280314] finished - execution time: 858 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:39:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280315] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:39:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280315] results received
-- 2020-02-11 09:39:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280315] finished - execution time: 59 ms, fetching time: 81 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:39:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280316] 
select count(*), count(distinct perceptual_hash) from customisation_files_perceptual_hashes where perceptual_hash is not null and error is null
-- ] --------------------------------------------------
-- 2020-02-11 09:39:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280316] results received
-- 2020-02-11 09:39:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280316] finished - execution time: 836 ms, fetching time: 98 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:39:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280317] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:39:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280317] results received
-- 2020-02-11 09:39:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280317] finished - execution time: 40 ms, fetching time: 44 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:39:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280318] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:39:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280318] results received
-- 2020-02-11 09:39:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280318] finished - execution time: 145 ms, fetching time: 396 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280319] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280319] results received
-- 2020-02-11 09:40:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280319] finished - execution time: 39 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280320] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is not null and perceptual_hash > '' order by id desc
-- ] --------------------------------------------------
-- 2020-02-11 09:40:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280320] results received
-- 2020-02-11 09:40:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280320] finished - execution time: 198 ms, fetching time: 150 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280321] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280321] results received
-- 2020-02-11 09:40:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280321] finished - execution time: 76 ms, fetching time: 69 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280322] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280322] results received
-- 2020-02-11 09:40:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280322] finished - execution time: 308 ms, fetching time: 535 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280323] 
select COUNT(*)
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280323] results received
-- 2020-02-11 09:40:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280323] finished - execution time: 3 s 779 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280324] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280324] results received
-- 2020-02-11 09:40:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280324] finished - execution time: 35 ms, fetching time: 40 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280325] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280325] results received
-- 2020-02-11 09:40:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280325] finished - execution time: 150 ms, fetching time: 377 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280326] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280326] results received
-- 2020-02-11 09:40:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280326] finished - execution time: 65 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280327] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280327] results received
-- 2020-02-11 09:40:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280327] finished - execution time: 130 ms, fetching time: 652 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280328] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280328] results received
-- 2020-02-11 09:40:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280328] finished - execution time: 34 ms, fetching time: 41 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280329] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280329] results received
-- 2020-02-11 09:40:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280329] finished - execution time: 111 ms, fetching time: 643 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280330] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280330] results received
-- 2020-02-11 09:40:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280330] finished - execution time: 67 ms, fetching time: 47 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280331] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280331] results received
-- 2020-02-11 09:40:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280331] finished - execution time: 159 ms, fetching time: 842 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280332] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:40:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280332] results received
-- 2020-02-11 09:40:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280332] finished - execution time: 42 ms, fetching time: 42 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:40:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280333] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 09:40:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280333] results received
-- 2020-02-11 09:41:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280333] finished - execution time: 108 ms, fetching time: 1 s 492 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:52:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280334] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:52:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280334] results received
-- 2020-02-11 09:52:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280334] finished - execution time: 56 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:52:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280335] 
select * from customisations_positions
-- ] --------------------------------------------------
-- 2020-02-11 09:52:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280335] results received
-- 2020-02-11 09:52:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280335] finished - execution time: 244 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:52:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280336] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 09:52:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280336] results received
-- 2020-02-11 09:52:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280336] finished - execution time: 131 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 09:52:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280337] 
select * from custom_positions
-- ] --------------------------------------------------
-- 2020-02-11 09:52:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280337] results received
-- 2020-02-11 09:52:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 439183056] [statement id: 1953280337] finished - execution time: 205 ms, fetching time: 125 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:46:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280338] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:46:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280338] results received
-- 2020-02-11 12:46:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280338] finished - execution time: 54 ms, fetching time: 64 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:46:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280339] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash is null
-- ] --------------------------------------------------
-- 2020-02-11 12:46:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280339] results received
-- 2020-02-11 12:46:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280339] finished - execution time: 103 ms, fetching time: 102 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:46:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280340] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:46:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280340] results received
-- 2020-02-11 12:46:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280340] finished - execution time: 42 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:46:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280341] 
select count(*) from customisation_files_perceptual_hashes where perceptual_hash = ''
-- ] --------------------------------------------------
-- 2020-02-11 12:46:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280341] results received
-- 2020-02-11 12:46:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280341] finished - execution time: 113 ms, fetching time: 143 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:47:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280342] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:47:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280342] results received
-- 2020-02-11 12:47:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280342] finished - execution time: 34 ms, fetching time: 24 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:47:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280343] 
select * from customisation_files_perceptual_hashes where error not like "Client error:%" and error is not null
-- ] --------------------------------------------------
-- 2020-02-11 12:47:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280343] results received
-- 2020-02-11 12:47:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280343] finished - execution time: 83 ms, fetching time: 200 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:48:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280344] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:48:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280344] results received
-- 2020-02-11 12:48:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280344] finished - execution time: 27 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:48:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280345] 
select count(*) from customisation_files_perceptual_hashes where error not like "Client error:%" and error is not null
-- ] --------------------------------------------------
-- 2020-02-11 12:48:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280345] results received
-- 2020-02-11 12:48:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280345] finished - execution time: 130 ms, fetching time: 71 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:48:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280346] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:48:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280346] results received
-- 2020-02-11 12:48:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280346] finished - execution time: 31 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:48:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280347] 
select count(*) from customisation_files_perceptual_hashes where error is not null
-- ] --------------------------------------------------
-- 2020-02-11 12:48:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280347] results received
-- 2020-02-11 12:48:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280347] finished - execution time: 129 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:48:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280348] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:48:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280348] results received
-- 2020-02-11 12:48:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280348] finished - execution time: 27 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:48:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280349] 
select * from customisation_files_perceptual_hashes where error not like "Client error:%" and error is not null
-- ] --------------------------------------------------
-- 2020-02-11 12:48:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280349] results received
-- 2020-02-11 12:48:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280349] finished - execution time: 84 ms, fetching time: 178 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:52:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280350] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 12:52:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280350] results received
-- 2020-02-11 12:52:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280350] finished - execution time: 27 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 12:52:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280351] 
select cfph1.id, cfph2.id, cfph1.file_type, cfph1.customer_id, cfph1.created_at, cfph2.created_at, cfph1.perceptual_hash, cfph1.url, cfph2.url
# select count(*)
from customisation_files_perceptual_hashes cfph1
join customisation_files_perceptual_hashes cfph2
    on cfph1.perceptual_hash = cfph2.perceptual_hash
    and cfph1.id <> cfph2.id
    and cfph1.file_type = cfph2.file_type
    and cfph1.customer_id = cfph2.customer_id
    and cfph1.created_at <> cfph2.created_at
-- ] --------------------------------------------------
-- 2020-02-11 12:52:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280351] results received
-- 2020-02-11 12:52:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280351] finished - execution time: 130 ms, fetching time: 182 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:01:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280352] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:01:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280352] results received
-- 2020-02-11 13:01:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280352] finished - execution time: 50 ms, fetching time: 62 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:01:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280353] 
select * from orders_customisations
-- ] --------------------------------------------------
-- 2020-02-11 13:01:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280353] results received
-- 2020-02-11 13:01:09 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280353] finished - execution time: 235 ms, fetching time: 342 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:01:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280354] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:01:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280354] results received
-- 2020-02-11 13:01:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280354] finished - execution time: 28 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:01:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280355] 
select * from orders_customisations where customisation_id > 0
-- ] --------------------------------------------------
-- 2020-02-11 13:01:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280355] results received
-- 2020-02-11 13:01:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280355] finished - execution time: 127 ms, fetching time: 400 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:04:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280356] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:04:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280356] results received
-- 2020-02-11 13:04:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280356] finished - execution time: 49 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:04:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280357] 
select * from orders
-- ] --------------------------------------------------
-- 2020-02-11 13:04:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280357] results received
-- 2020-02-11 13:04:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280357] finished - execution time: 239 ms, fetching time: 547 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:05:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280358] 
desc orders
-- ] --------------------------------------------------
-- 2020-02-11 13:05:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280358] results received
-- 2020-02-11 13:05:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280358] finished - execution time: 200 ms, fetching time: 76 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:05:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280359] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:05:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280359] results received
-- 2020-02-11 13:05:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280359] finished - execution time: 46 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:10:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280360] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:10:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280360] results received
-- 2020-02-11 13:10:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280360] finished - execution time: 58 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:10:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280361] 
select * from orders
where mobile_order = 0
-- ] --------------------------------------------------
-- 2020-02-11 13:10:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280361] results received
-- 2020-02-11 13:10:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280361] finished - execution time: 156 ms, fetching time: 375 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280362] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:11:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280362] results received
-- 2020-02-11 13:11:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280362] finished - execution time: 54 ms, fetching time: 78 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280363] 
select * from orders
where mobile_order = 0
and customers_id > 0
and staff_name is null
-- ] --------------------------------------------------
-- 2020-02-11 13:11:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280363] results received
-- 2020-02-11 13:11:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280363] finished - execution time: 167 ms, fetching time: 144 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280364] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:11:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280364] results received
-- 2020-02-11 13:11:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280364] finished - execution time: 52 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280365] 
select * from orders
where mobile_order = 0
and customers_id > 0
and staff_name = ''
-- ] --------------------------------------------------
-- 2020-02-11 13:11:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280365] results received
-- 2020-02-11 13:11:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280365] finished - execution time: 219 ms, fetching time: 329 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280366] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:11:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280366] results received
-- 2020-02-11 13:11:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280366] finished - execution time: 58 ms, fetching time: 41 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280367] 
select * from orders
where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method = 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280367] results received
-- 2020-02-11 13:11:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280367] finished - execution time: 160 ms, fetching time: 454 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280368] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:11:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280368] results received
-- 2020-02-11 13:11:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280368] finished - execution time: 33 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:11:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280369] 
select * from orders
where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:11:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280369] results received
-- 2020-02-11 13:11:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280369] finished - execution time: 187 ms, fetching time: 356 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:12:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280370] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:12:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280370] results received
-- 2020-02-11 13:12:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280370] finished - execution time: 25 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:12:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280371] 
select o.orders_id, o.orders_status, o.customers_name from orders o
where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:12:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280371] results received
-- 2020-02-11 13:12:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280371] finished - execution time: 85 ms, fetching time: 113 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:13:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280372] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:13:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280372] results received
-- 2020-02-11 13:13:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280372] finished - execution time: 25 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:13:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280373] 
select o.orders_id, o.orders_status, o.customers_name, o.customers_email_address from orders o
where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:13:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280373] results received
-- 2020-02-11 13:13:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280373] finished - execution time: 110 ms, fetching time: 115 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:14:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280374] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:14:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280374] results received
-- 2020-02-11 13:14:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280374] finished - execution time: 24 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:14:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280375] 
select o.orders_id, o.orders_status, o.customers_name, o.customers_email_address from orders o

join orders_customisations oc on oc.order_id = o.orders_id

where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:14:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280375] results received
-- 2020-02-11 13:14:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280375] finished - execution time: 211 ms, fetching time: 155 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:14:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280376] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:14:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280376] results received
-- 2020-02-11 13:14:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280376] finished - execution time: 24 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:14:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280377] 
select
        o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
        oc.*
from orders o

join orders_customisations oc on oc.order_id = o.orders_id

where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:14:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280377] results received
-- 2020-02-11 13:14:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280377] finished - execution time: 83 ms, fetching time: 292 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:15:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280378] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:15:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280378] results received
-- 2020-02-11 13:15:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280378] finished - execution time: 26 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:15:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280379] 
select * from orders_customisations where customisation_id > 0
-- ] --------------------------------------------------
-- 2020-02-11 13:15:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280379] results received
-- 2020-02-11 13:15:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280379] finished - execution time: 121 ms, fetching time: 173 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:17:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280380] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:17:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280380] results received
-- 2020-02-11 13:17:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280380] finished - execution time: 26 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:17:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280381] 
select
        o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
        oc.primary_type,
        oc.custom_type
from orders o

join orders_customisations oc on oc.order_id = o.orders_id

where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:17:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280381] results received
-- 2020-02-11 13:17:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280381] finished - execution time: 105 ms, fetching time: 112 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:17:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280382] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:17:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280382] results received
-- 2020-02-11 13:17:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280382] finished - execution time: 24 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:17:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280383] 
select
       o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
       oc.custom_type,
       oc.application_count,
       oc.primary_type
from orders o

join orders_customisations oc on oc.order_id = o.orders_id

where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:17:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280383] results received
-- 2020-02-11 13:17:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280383] finished - execution time: 96 ms, fetching time: 118 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:18:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280384] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:18:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280384] results received
-- 2020-02-11 13:18:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280384] finished - execution time: 26 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:18:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280385] 
select
       o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
       oc.custom_type,
       oc.application_count,
       oc.primary_type
from orders o

join orders_customisations oc on oc.order_id = o.orders_id
join customisation_files cf on cf.customisation_id = oc.customisation_id

where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:18:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280385] results received
-- 2020-02-11 13:18:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280385] finished - execution time: 73 ms, fetching time: 120 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:19:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280386] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:19:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280386] results received
-- 2020-02-11 13:19:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280386] finished - execution time: 26 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:19:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280387] 
select
        o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
        oc.custom_type, oc.application_count, oc.primary_type,
        cf.*
from orders o

join orders_customisations oc on oc.order_id = o.orders_id
join customisation_files cf on cf.customisation_id = oc.customisation_id

where mobile_order = 0
and customers_id > 0
and staff_name = ''
and payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-11 13:19:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280387] results received
-- 2020-02-11 13:19:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280387] finished - execution time: 85 ms, fetching time: 159 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:19:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280388] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:19:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280388] results received
-- 2020-02-11 13:19:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280388] finished - execution time: 26 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:19:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280389] 
select
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    cf.*
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
-- ] --------------------------------------------------
-- 2020-02-11 13:19:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280389] results received
-- 2020-02-11 13:19:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280389] finished - execution time: 187 ms, fetching time: 199 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:20:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280390] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:20:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280390] results received
-- 2020-02-11 13:20:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280390] finished - execution time: 25 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:20:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280391] 
select
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    cf.*
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:20:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280391] results received
-- 2020-02-11 13:20:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280391] finished - execution time: 1 s 946 ms, fetching time: 141 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:20:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280392] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:20:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280392] results received
-- 2020-02-11 13:20:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280392] finished - execution time: 27 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:20:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280393] 
select
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    cf.*
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:20:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280393] results received
-- 2020-02-11 13:20:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280393] finished - execution time: 113 ms, fetching time: 240 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:21:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280394] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:21:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280394] results received
-- 2020-02-11 13:21:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280394] finished - execution time: 30 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:21:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280395] 
select
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    cf.*
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

group by o.orders_id, cf.perceptual_hash

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:21:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280395] results received
-- 2020-02-11 13:21:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280395] finished - execution time: 10 s 517 ms, fetching time: 146 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:24:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280396] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:24:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280396] results received
-- 2020-02-11 13:24:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280396] finished - execution time: 29 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:24:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280397] 
select
    distinct(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

group by o.orders_id, cf.perceptual_hash

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:24:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280397] results received
-- 2020-02-11 13:24:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280397] finished - execution time: 2 s 444 ms, fetching time: 142 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:24:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280398] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:24:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280398] results received
-- 2020-02-11 13:24:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280398] finished - execution time: 25 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:24:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280399] 
select
    distinct(cf.perceptual_hash),
    count(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

group by o.orders_id, cf.perceptual_hash

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:24:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280399] results received
-- 2020-02-11 13:24:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280399] finished - execution time: 2 s 439 ms, fetching time: 115 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:25:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280400] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:25:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280400] results received
-- 2020-02-11 13:25:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280400] finished - execution time: 25 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:25:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280401] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

group by o.orders_id, cf.perceptual_hash

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:25:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280401] results received
-- 2020-02-11 13:25:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280401] finished - execution time: 2 s 442 ms, fetching time: 127 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:25:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280402] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:25:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280402] results received
-- 2020-02-11 13:25:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280402] finished - execution time: 25 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:25:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280403] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:25:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280403] error - Statement cancelled due to client request
-- 2020-02-11 13:25:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183057] [statement id: 1953280403] finished - execution time: 17 s 932 ms
-- 2020-02-11 13:25:41 [default] [Staging RDS-RO] [session id: 439183057] disconnected
-- 2020-02-11 13:25:50 [default] [Staging RDS-RO] [session id: 439183058] connected
-- [ --------------------------------------------------
-- 2020-02-11 13:25:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280404] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 13:25:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280404] finished - execution time: 54 ms
-- [ --------------------------------------------------
-- 2020-02-11 13:25:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280405] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:25:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280405] results received
-- 2020-02-11 13:25:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280405] finished - execution time: 47 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:25:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280406] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

group by cf.perceptual_hash

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:25:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280406] results received
-- 2020-02-11 13:25:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280406] finished - execution time: 2 s 415 ms, fetching time: 148 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:26:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280407] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:26:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280407] results received
-- 2020-02-11 13:26:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280407] finished - execution time: 28 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:26:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280408] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

# group by o.orders_id, cf.perceptual_hash

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:26:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280408] results received
-- 2020-02-11 13:26:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280408] finished - execution time: 80 ms, fetching time: 78 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:26:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280409] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:26:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280409] results received
-- 2020-02-11 13:26:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280409] finished - execution time: 30 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:26:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280410] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:26:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280410] results received
-- 2020-02-11 13:26:43 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280410] finished - execution time: 97 ms, fetching time: 80 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:26:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280411] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:26:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280411] results received
-- 2020-02-11 13:26:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280411] finished - execution time: 29 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:26:55 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280412] 
select
    cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:26:56 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280412] results received
-- 2020-02-11 13:26:56 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280412] finished - execution time: 77 ms, fetching time: 75 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:27:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280413] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:27:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280413] results received
-- 2020-02-11 13:27:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280413] finished - execution time: 30 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:27:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280414] 
select
    cf.perceptual_hash,
    count(distinct(cf.perceptual_hash)),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:27:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280414] results received
-- 2020-02-11 13:27:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280414] finished - execution time: 76 ms, fetching time: 73 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:27:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280415] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:27:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280415] results received
-- 2020-02-11 13:27:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280415] finished - execution time: 26 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:27:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280416] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash),
    count(distinct(cf.perceptual_hash)),
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:27:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280416] results received
-- 2020-02-11 13:27:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280416] finished - execution time: 104 ms, fetching time: 73 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280417] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280417] results received
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280417] finished - execution time: 46 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280418] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct(cf.perceptual_hash)) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

and files_count <> unique_files_count

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280418] error - [42S22][1054] Unknown column 'files_count' in 'where clause'
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280418] finished - execution time: 90 ms
-- 2020-02-11 13:28:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42S22][1054] Unknown column 'files_count' in 'where clause'
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42S22][1054] Unknown column 'files_count' in 'where clause'
-- [ --------------------------------------------------
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280419] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280419] results received
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280419] warning - [42S22][1054] Unknown column 'files_count' in 'where clause'
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280419] finished - execution time: 27 ms, fetching time: 28 ms, total result sets count: 1
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42S22][1054] Unknown column 'files_count' in 'where clause'
-- [ --------------------------------------------------
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280420] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct(cf.perceptual_hash)) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280420] results received
-- 2020-02-11 13:28:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280420] finished - execution time: 79 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:29:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280421] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:29:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280421] results received
-- 2020-02-11 13:29:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280421] finished - execution time: 27 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:29:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280422] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:29:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280422] results received
-- 2020-02-11 13:29:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280422] finished - execution time: 79 ms, fetching time: 84 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:29:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280423] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:29:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280423] results received
-- 2020-02-11 13:29:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280423] finished - execution time: 31 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:29:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280424] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

having count(cf.perceptual_hash) = count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:29:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280424] results received
-- 2020-02-11 13:29:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280424] finished - execution time: 89 ms, fetching time: 73 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:29:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280425] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:29:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280425] results received
-- 2020-02-11 13:29:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280425] finished - execution time: 29 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:29:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280426] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
#   and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:29:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280426] results received
-- 2020-02-11 13:29:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280426] finished - execution time: 18 s 593 ms, fetching time: 83 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:30:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280427] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:30:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280427] results received
-- 2020-02-11 13:30:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280427] finished - execution time: 35 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:30:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280428] 
select
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4464823

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:30:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280428] results received
-- 2020-02-11 13:30:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280428] finished - execution time: 90 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:32:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280429] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:32:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280429] results received
-- 2020-02-11 13:32:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280429] finished - execution time: 24 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:32:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280430] 
select
    cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:32:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280430] results received
-- 2020-02-11 13:32:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280430] finished - execution time: 75 ms, fetching time: 77 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:32:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280431] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:32:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280431] results received
-- 2020-02-11 13:32:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280431] finished - execution time: 55 ms, fetching time: 75 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:32:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280432] 
select
    cf.*,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:32:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280432] results received
-- 2020-02-11 13:32:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280432] finished - execution time: 171 ms, fetching time: 126 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:32:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280433] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:32:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280433] results received
-- 2020-02-11 13:32:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280433] finished - execution time: 51 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:32:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280434] 
select
    cf.*,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
#   and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:32:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280434] results received
-- 2020-02-11 13:32:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280434] finished - execution time: 18 s 831 ms, fetching time: 93 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:33:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280435] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:33:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280435] results received
-- 2020-02-11 13:33:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280435] finished - execution time: 28 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:33:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280436] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:33:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280436] results received
-- 2020-02-11 13:33:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280436] finished - execution time: 83 ms, fetching time: 82 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:33:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280437] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:33:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280437] results received
-- 2020-02-11 13:33:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280437] finished - execution time: 47 ms, fetching time: 83 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:33:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280438] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4872839

# having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:33:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280438] results received
-- 2020-02-11 13:33:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280438] finished - execution time: 170 ms, fetching time: 220 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:33:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280439] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:33:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280439] results received
-- 2020-02-11 13:33:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280439] finished - execution time: 117 ms, fetching time: 124 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:33:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280440] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
#   and o.orders_id = 4872839

having count(cf.perceptual_hash) <> count(distinct cf.perceptual_hash)

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:34:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280440] results received
-- 2020-02-11 13:34:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280440] finished - execution time: 19 s 46 ms, fetching time: 586 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:35:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280441] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:35:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280441] results received
-- 2020-02-11 13:35:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280441] finished - execution time: 109 ms, fetching time: 117 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:35:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280442] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
    count(cf.perceptual_hash) as files_count,
    count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
#   and o.orders_id = 4872839

having count(cf.perceptual_hash = cf.perceptual_hash) > 1

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:35:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280442] results received
-- 2020-02-11 13:35:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280442] finished - execution time: 18 s 955 ms, fetching time: 196 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:35:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280443] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:35:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280443] results received
-- 2020-02-11 13:35:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280443] finished - execution time: 118 ms, fetching time: 75 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:35:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280444] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
#     count(cf.perceptual_hash) as files_count,
#     count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
#   and o.orders_id = 4872839

having count(cf.perceptual_hash = cf.perceptual_hash) > 1

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:36:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280444] results received
-- 2020-02-11 13:36:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280444] finished - execution time: 18 s 942 ms, fetching time: 256 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:36:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280445] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:36:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280445] results received
-- 2020-02-11 13:36:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280445] finished - execution time: 91 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:36:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280446] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
#     count(cf.perceptual_hash) as files_count,
#     count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
#   and o.orders_id = 4872839

# having count(cf.perceptual_hash = cf.perceptual_hash) > 1

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 13:36:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280446] results received
-- 2020-02-11 13:36:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280446] finished - execution time: 414 ms, fetching time: 784 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:44:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280447] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:44:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280447] results received
-- 2020-02-11 13:44:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280447] finished - execution time: 96 ms, fetching time: 124 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:44:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280448] 
select * from poloshir_osC.products_stock_allocated where order_id = 4877161 and allocated_site = 'c2o'
AND ( vendors_id IN (0,28) OR vendor_email_sent = 'N' )
-- ] --------------------------------------------------
-- 2020-02-11 13:44:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280448] results received
-- 2020-02-11 13:44:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280448] finished - execution time: 308 ms, fetching time: 231 ms, total result sets count: 1
-- 2020-02-11 13:45:26 [default] [Production RDS-WRITE] [session id: 439183059] connected
-- [ --------------------------------------------------
-- 2020-02-11 13:45:27 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280449] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 13:45:28 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280449] finished - execution time: 651 ms
-- [ --------------------------------------------------
-- 2020-02-11 13:45:29 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280450] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:45:29 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280450] results received
-- 2020-02-11 13:45:29 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280450] finished - execution time: 222 ms, fetching time: 151 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:45:29 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280451] 
select * from poloshir_osC.products_stock_allocated where order_id = 5181442 and allocated_site = 'c2o'
-- ] --------------------------------------------------
-- 2020-02-11 13:45:30 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280451] results received
-- 2020-02-11 13:45:30 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280451] finished - execution time: 647 ms, fetching time: 254 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:45:49 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280452] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:45:49 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280452] results received
-- 2020-02-11 13:45:50 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280452] finished - execution time: 356 ms, fetching time: 223 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:45:50 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280453] 
select * from poloshir_osC.products_stock_allocated where order_id = 5181442 and allocated_site = 'c2o'
-- ] --------------------------------------------------
-- 2020-02-11 13:45:50 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280453] results received
-- 2020-02-11 13:45:51 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280453] finished - execution time: 667 ms, fetching time: 296 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:46:16 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280454] 
update poloshir_osC.products_stock_allocated set vendor_email_sent = 'Y' where order_id = 5181442 and allocated_site = 'c2o'
-- ] --------------------------------------------------
-- 2020-02-11 13:46:16 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280454] update count received - 15
-- 2020-02-11 13:46:17 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280454] finished - execution time: 877 ms, fetching time: 219 ms, total update count: 15
-- [ --------------------------------------------------
-- 2020-02-11 13:46:17 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280455] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:46:17 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280455] results received
-- 2020-02-11 13:46:17 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280455] finished - execution time: 275 ms, fetching time: 213 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:46:21 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280456] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:46:22 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280456] results received
-- 2020-02-11 13:46:22 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280456] finished - execution time: 123 ms, fetching time: 265 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:46:22 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280457] 
select * from poloshir_osC.products_stock_allocated where order_id = 5181442 and allocated_site = 'c2o'
-- ] --------------------------------------------------
-- 2020-02-11 13:46:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280457] results received
-- 2020-02-11 13:46:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 439183059] [statement id: 1953280457] finished - execution time: 830 ms, fetching time: 390 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280458] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280458] results received
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280458] finished - execution time: 23 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280459] 
SELECT
	cf.url,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
GROUP BY 1


desc orders
-- ] --------------------------------------------------
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280459] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'orders' at line 9
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280459] finished - execution time: 95 ms
-- 2020-02-11 13:57:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'orders' at line 9
-- 2020-02-11 13:57:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'orders' at line 9
-- [ --------------------------------------------------
-- 2020-02-11 13:57:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280460] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:57:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280460] results received
-- 2020-02-11 13:57:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280460] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'orders' at line 9
-- 2020-02-11 13:57:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280460] finished - execution time: 24 ms, fetching time: 33 ms, total result sets count: 1
-- 2020-02-11 13:57:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'orders' at line 9
-- [ --------------------------------------------------
-- 2020-02-11 13:57:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280461] 
SELECT
	cf.url,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
GROUP BY 1
-- ] --------------------------------------------------
-- 2020-02-11 13:58:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280461] results received
-- 2020-02-11 13:58:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280461] finished - execution time: 14 s 484 ms, fetching time: 116 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280462] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280462] results received
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280462] finished - execution time: 28 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280463] 
SELECT
	cf.url,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
GROUP BY 1
having COUNT(DISTINCT cf.perceptual_hash) AS used_count > 1
-- ] --------------------------------------------------
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280463] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS used_count > 1' at line 7
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280463] finished - execution time: 83 ms
-- 2020-02-11 13:58:38 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS used_count > 1' at line 7
-- 2020-02-11 13:58:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS used_count > 1' at line 7
-- [ --------------------------------------------------
-- 2020-02-11 13:58:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280464] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 13:58:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280464] results received
-- 2020-02-11 13:58:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280464] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS used_count > 1' at line 7
-- 2020-02-11 13:58:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280464] finished - execution time: 52 ms, fetching time: 32 ms, total result sets count: 1
-- 2020-02-11 13:58:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'AS used_count > 1' at line 7
-- [ --------------------------------------------------
-- 2020-02-11 13:58:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280465] 
SELECT
	cf.url,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
GROUP BY 1
having COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:00:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280465] error - Statement cancelled due to client request
-- 2020-02-11 14:00:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183058] [statement id: 1953280465] finished - execution time: 1 m 16 s 84 ms
-- 2020-02-11 14:00:01 [default] [Staging RDS-RO] [session id: 439183058] disconnected
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [session id: 439183060] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280466] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280466] finished - execution time: 46 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280467] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280467] results received
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280467] finished - execution time: 52 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:00:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280468] 
SELECT
	cf.url,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
GROUP BY 1
order by used_count desc
-- ] --------------------------------------------------
-- 2020-02-11 14:01:25 [default] [Staging RDS-RO] [session id: 439183060] disconnected
-- 2020-02-11 14:01:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280468] error - Statement cancelled due to client request
-- 2020-02-11 14:01:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183060] [statement id: 1953280468] finished - execution time: 1 m 18 s 449 ms
-- 2020-02-11 14:01:28 [default] [Staging RDS-RO] [session id: 439183061] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280469] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280469] finished - execution time: 53 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280470] 
show full processlist
-- ] --------------------------------------------------
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280470] results received
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280470] finished - execution time: 51 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280471] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280471] results received
-- 2020-02-11 14:01:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280471] finished - execution time: 26 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:01:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280472] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:01:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280472] results received
-- 2020-02-11 14:01:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280472] finished - execution time: 28 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:01:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280473] 
SELECT
	cf.url,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:02:42 [default] [Staging RDS-RO] [session id: 439183061] disconnected
-- 2020-02-11 14:02:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280473] error - Statement cancelled due to client request
-- 2020-02-11 14:02:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183061] [statement id: 1953280473] finished - execution time: 1 m 0 s 850 ms
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [session id: 439183062] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280474] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280474] finished - execution time: 54 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280475] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280475] results received
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280475] finished - execution time: 56 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280476] 
SELECT
	cf.url
# 	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280476] results received
-- 2020-02-11 14:02:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280476] finished - execution time: 77 ms, fetching time: 145 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:03:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280477] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:03:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280477] results received
-- 2020-02-11 14:03:22 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280477] finished - execution time: 61 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:03:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280478] 
SELECT
	cf.url,
	cf.perceptual_hash
# 	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:03:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280478] results received
-- 2020-02-11 14:03:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280478] finished - execution time: 191 ms, fetching time: 277 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:03:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280479] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:03:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280479] results received
-- 2020-02-11 14:03:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280479] finished - execution time: 41 ms, fetching time: 64 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:03:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280480] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:03:40 [default] [Staging RDS-RO] [session id: 439183062] disconnected
-- 2020-02-11 14:03:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280480] error - Statement cancelled due to client request
-- 2020-02-11 14:03:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183062] [statement id: 1953280480] finished - execution time: 10 s 94 ms
-- 2020-02-11 14:03:45 [default] [Staging RDS-RO] [session id: 439183063] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:03:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280481] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:03:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280481] finished - execution time: 96 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:03:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280482] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:03:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280482] results received
-- 2020-02-11 14:03:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280482] finished - execution time: 88 ms, fetching time: 51 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:03:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280483] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:04:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280483] error - Statement cancelled due to client request
-- 2020-02-11 14:04:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183063] [statement id: 1953280483] finished - execution time: 26 s 749 ms
-- 2020-02-11 14:04:16 [default] [Staging RDS-RO] [session id: 439183063] disconnected
-- 2020-02-11 14:05:05 [default] [Staging RDS-RO] [session id: 439183064] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:05:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280484] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280484] finished - execution time: 101 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280485] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280485] results received
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280485] finished - execution time: 74 ms, fetching time: 64 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280486] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(UNIQUE cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280486] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNIQUE cf.perceptual_hash) AS used_count\nFROM customisation_files_perceptual_has' at line 4
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280486] finished - execution time: 154 ms
-- 2020-02-11 14:05:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNIQUE cf.perceptual_hash) AS used_count\nFROM customisation_files_perceptual_has' at line 4
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNIQUE cf.perceptual_hash) AS used_count\nFROM customisation_files_perceptual_has' at line 4
-- [ --------------------------------------------------
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280487] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280487] results received
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280487] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNIQUE cf.perceptual_hash) AS used_count\nFROM customisation_files_perceptual_has' at line 4
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280487] finished - execution time: 66 ms, fetching time: 75 ms, total result sets count: 1
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'UNIQUE cf.perceptual_hash) AS used_count\nFROM customisation_files_perceptual_has' at line 4
-- [ --------------------------------------------------
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280488] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
-- ] --------------------------------------------------
-- 2020-02-11 14:05:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280488] results received
-- 2020-02-11 14:05:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280488] finished - execution time: 592 ms, fetching time: 200 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:06:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280489] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:06:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280489] results received
-- 2020-02-11 14:06:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280489] finished - execution time: 57 ms, fetching time: 61 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:06:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280490] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
-- ] --------------------------------------------------
-- 2020-02-11 14:06:36 [default] [Staging RDS-RO] [session id: 439183064] disconnected
-- 2020-02-11 14:06:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183064] [statement id: 1953280490] finished - execution time: 11 s 395 ms
-- 2020-02-11 14:06:56 [default] [Staging RDS-RO] [session id: 439183065] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:06:56 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280491] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:06:56 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280491] finished - execution time: 132 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:06:56 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280492] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:06:56 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280492] results received
-- 2020-02-11 14:06:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280492] finished - execution time: 75 ms, fetching time: 104 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:06:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280493] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

GROUP BY 1
-- ] --------------------------------------------------
-- 2020-02-11 14:07:12 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280493] results received
-- 2020-02-11 14:07:12 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280493] finished - execution time: 14 s 977 ms, fetching time: 716 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:07:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280494] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:07:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280494] results received
-- 2020-02-11 14:07:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280494] finished - execution time: 54 ms, fetching time: 77 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:07:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280495] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

GROUP BY 1
-- ] --------------------------------------------------
-- 2020-02-11 14:07:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280495] results received
-- 2020-02-11 14:07:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280495] finished - execution time: 15 s 397 ms, fetching time: 776 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:08:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280496] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:08:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280496] results received
-- 2020-02-11 14:08:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280496] finished - execution time: 53 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:08:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280497] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type = 1

GROUP BY 1
-- ] --------------------------------------------------
-- 2020-02-11 14:08:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280497] results received
-- 2020-02-11 14:08:42 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280497] finished - execution time: 3 s 972 ms, fetching time: 948 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:08:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280498] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:08:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280498] results received
-- 2020-02-11 14:08:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280498] finished - execution time: 36 ms, fetching time: 41 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:08:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280499] 
SELECT
	cf.url,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY 1
-- ] --------------------------------------------------
-- 2020-02-11 14:09:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280499] results received
-- 2020-02-11 14:09:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280499] finished - execution time: 7 s 46 ms, fetching time: 996 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:09:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280500] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:09:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280500] results received
-- 2020-02-11 14:09:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280500] finished - execution time: 38 ms, fetching time: 40 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:09:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280501] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY 1
-- ] --------------------------------------------------
-- 2020-02-11 14:09:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280501] results received
-- 2020-02-11 14:09:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280501] finished - execution time: 8 s 565 ms, fetching time: 926 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:09:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280502] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:09:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280502] results received
-- 2020-02-11 14:09:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280502] finished - execution time: 40 ms, fetching time: 64 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:09:54 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280503] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY oc.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:10:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280503] results received
-- 2020-02-11 14:10:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280503] finished - execution time: 15 s 929 ms, fetching time: 316 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:10:48 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280504] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:10:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280504] results received
-- 2020-02-11 14:10:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280504] finished - execution time: 61 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:10:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280505] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY o.orders_id
-- ] --------------------------------------------------
-- 2020-02-11 14:11:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280505] results received
-- 2020-02-11 14:11:08 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280505] finished - execution time: 19 s 601 ms, fetching time: 215 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:11:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280506] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:11:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280506] results received
-- 2020-02-11 14:11:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280506] finished - execution time: 72 ms, fetching time: 47 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:11:16 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280507] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY cf.perceptual_hash, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-11 14:11:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280507] results received
-- 2020-02-11 14:11:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280507] finished - execution time: 15 s 695 ms, fetching time: 278 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:12:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280508] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:12:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280508] results received
-- 2020-02-11 14:12:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280508] finished - execution time: 38 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:12:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280509] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY cf.perceptual_hash, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-11 14:12:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280509] results received
-- 2020-02-11 14:12:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280509] finished - execution time: 15 s 637 ms, fetching time: 244 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:13:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280510] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:13:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280510] results received
-- 2020-02-11 14:13:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280510] finished - execution time: 38 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:13:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280511] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY cf.perceptual_hash, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:13:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280511] results received
-- 2020-02-11 14:13:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280511] finished - execution time: 15 s 484 ms, fetching time: 115 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:14:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280512] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:14:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280512] results received
-- 2020-02-11 14:14:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280512] finished - execution time: 76 ms, fetching time: 61 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:14:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280513] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:14:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280513] results received
-- 2020-02-11 14:14:19 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280513] finished - execution time: 15 s 507 ms, fetching time: 180 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:15:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280514] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:15:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280514] results received
-- 2020-02-11 14:15:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280514] finished - execution time: 28 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:15:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280515] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
#     count(cf.perceptual_hash) as files_count,
#     count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4672244

# having count(cf.perceptual_hash = cf.perceptual_hash) > 1

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 14:15:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280515] results received
-- 2020-02-11 14:15:31 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280515] finished - execution time: 80 ms, fetching time: 90 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:17:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280516] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:17:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280516] results received
-- 2020-02-11 14:17:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280516] finished - execution time: 28 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:17:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280517] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM orders AS o
LEFT JOIN orders_customisations as oc ON oc.order_id = o.orders_id
LEFT JOIN customisation_files_perceptual_hashes AS cf on cf.customisation_id = oc.customisation_id
-- ] --------------------------------------------------
-- 2020-02-11 14:18:12 [default] [Staging RDS-RO] [session id: 439183065] disconnected
-- 2020-02-11 14:18:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183065] [statement id: 1953280517] finished - execution time: 1 m 2 s 680 ms
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [session id: 439183066] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280518] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280518] finished - execution time: 60 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280519] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280519] results received
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280519] finished - execution time: 49 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280520] 
SELECT
    o.orders_id,
    COUNT(cf.perceptual_hash) AS total_files_count,
    COUNT(DISTINCT cf.perceptual_hash) AS unique_files_count,
    o.customers_name, o.customers_email_address, o.customers_id

FROM orders AS o
LEFT JOIN orders_customisations as oc ON oc.order_id = o.orders_id
LEFT JOIN customisation_files_perceptual_hashes AS cf on cf.customisation_id = oc.customisation_id
WHERE true
  and o.orders_id = 4672244
-- ] --------------------------------------------------
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280520] results received
-- 2020-02-11 14:18:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280520] finished - execution time: 78 ms, fetching time: 106 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:19:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280521] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:19:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280521] results received
-- 2020-02-11 14:19:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280521] finished - execution time: 25 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:19:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280522] 
SELECT
    o.orders_id,
    COUNT(cf.perceptual_hash) AS total_files_count,
    COUNT(DISTINCT cf.perceptual_hash) AS unique_files_count,
    o.customers_name, o.customers_email_address, o.customers_id

FROM orders AS o
LEFT JOIN orders_customisations as oc ON oc.order_id = o.orders_id
LEFT JOIN customisation_files_perceptual_hashes AS cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:19:07 [default] [Staging RDS-RO] [session id: 439183066] disconnected
-- 2020-02-11 14:19:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183066] [statement id: 1953280522] finished - execution time: 5 s 903 ms
-- 2020-02-11 14:19:10 [default] [Staging RDS-RO] [session id: 439183067] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:19:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280523] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:19:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280523] finished - execution time: 52 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:19:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280524] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:19:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280524] results received
-- 2020-02-11 14:19:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280524] finished - execution time: 50 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:19:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280525] 
SELECT
    o.orders_id,
    COUNT(cf.perceptual_hash) AS total_files_count,
    COUNT(DISTINCT cf.perceptual_hash) AS unique_files_count,
    o.customers_name, o.customers_email_address, o.customers_id

FROM orders AS o
LEFT JOIN orders_customisations as oc ON oc.order_id = o.orders_id
LEFT JOIN customisation_files_perceptual_hashes AS cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
-- ] --------------------------------------------------
-- 2020-02-11 14:19:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280525] results received
-- 2020-02-11 14:19:17 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280525] finished - execution time: 6 s 518 ms, fetching time: 101 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:19:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280526] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:19:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280526] results received
-- 2020-02-11 14:19:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280526] finished - execution time: 25 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:19:51 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280527] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:20:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280527] results received
-- 2020-02-11 14:20:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280527] finished - execution time: 15 s 740 ms, fetching time: 131 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:21:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280528] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:21:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280528] results received
-- 2020-02-11 14:21:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280528] finished - execution time: 30 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:21:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280529] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    oc.customisation_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY 1
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:21:31 [default] [Staging RDS-RO] [session id: 439183067] disconnected
-- 2020-02-11 14:21:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183067] [statement id: 1953280529] finished - execution time: 21 s 775 ms
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [session id: 439183068] connected
-- [ --------------------------------------------------
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280530] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280530] finished - execution time: 63 ms
-- [ --------------------------------------------------
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280531] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280531] results received
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280531] finished - execution time: 51 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:21:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280532] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY 1
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:22:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280532] results received
-- 2020-02-11 14:22:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280532] finished - execution time: 37 s 889 ms, fetching time: 111 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:22:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280533] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:22:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280533] results received
-- 2020-02-11 14:22:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280533] finished - execution time: 24 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:22:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280534] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(DISTINCT cf.perceptual_hash) AS used_count,
    o.orders_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:22:36 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280534] results received
-- 2020-02-11 14:22:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280534] finished - execution time: 11 s 809 ms, fetching time: 863 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:23:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280535] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:23:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280535] results received
-- 2020-02-11 14:23:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280535] finished - execution time: 27 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:23:23 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280536] 
SELECT
	cf.url,
	cf.file_type,
	cf.perceptual_hash,
	COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
    o.orders_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:23:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280536] results received
-- 2020-02-11 14:23:37 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280536] finished - execution time: 12 s 118 ms, fetching time: 1 s 798 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:23:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280537] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:23:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280537] results received
-- 2020-02-11 14:23:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280537] finished - execution time: 34 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:23:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280538] 
SELECT
	COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
    o.orders_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1
-- ] --------------------------------------------------
-- 2020-02-11 14:24:10 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280538] results received
-- 2020-02-11 14:24:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280538] finished - execution time: 12 s 845 ms, fetching time: 1 s 550 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:24:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280539] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:24:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280539] results received
-- 2020-02-11 14:24:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280539] finished - execution time: 25 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:24:35 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280540] 
SELECT
	COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
    o.orders_id,
    o.customers_name, o.customers_email_address, o.customers_id
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1 and (unique_files_on_order <> files_on_order)
-- ] --------------------------------------------------
-- 2020-02-11 14:24:49 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280540] results received
-- 2020-02-11 14:24:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280540] finished - execution time: 13 s 605 ms, fetching time: 1 s 149 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:25:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280541] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:25:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280541] results received
-- 2020-02-11 14:25:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280541] finished - execution time: 23 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:25:44 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280542] 
SELECT
    o.orders_id,
    o.customers_name, o.customers_email_address, o.customers_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1 and (unique_files_on_order <> files_on_order)
-- ] --------------------------------------------------
-- 2020-02-11 14:25:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280542] results received
-- 2020-02-11 14:25:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280542] finished - execution time: 14 s 319 ms, fetching time: 1 s 190 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:26:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280543] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:26:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280543] results received
-- 2020-02-11 14:26:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280543] finished - execution time: 29 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:26:11 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280544] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1 and (unique_files_on_order <> files_on_order)
-- ] --------------------------------------------------
-- 2020-02-11 14:26:25 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280544] results received
-- 2020-02-11 14:26:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280544] finished - execution time: 14 s 22 ms, fetching time: 1 s 182 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:26:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280545] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:26:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280545] results received
-- 2020-02-11 14:26:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280545] finished - execution time: 27 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:26:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280546] 
select
    cf.id,
    cf.file_type,
    cf.perceptual_hash,
#     count(cf.perceptual_hash) as files_count,
#     count(distinct cf.perceptual_hash ) as unique_files_count,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o

         join orders_customisations oc on oc.order_id = o.orders_id
         join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id

where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0
  and o.orders_id = 4467791

# having count(cf.perceptual_hash = cf.perceptual_hash) > 1

order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 14:26:40 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280546] results received
-- 2020-02-11 14:26:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280546] finished - execution time: 82 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:29:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280547] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:29:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280547] results received
-- 2020-02-11 14:29:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280547] finished - execution time: 40 ms, fetching time: 59 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:29:00 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280548] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING COUNT(DISTINCT cf.perceptual_hash) > 1 and (unique_files_on_order <> files_on_order)
-- ] --------------------------------------------------
-- 2020-02-11 14:29:13 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280548] results received
-- 2020-02-11 14:29:15 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280548] finished - execution time: 13 s 293 ms, fetching time: 1 s 159 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:29:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280549] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:29:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280549] results received
-- 2020-02-11 14:29:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280549] finished - execution time: 27 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:29:50 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280550] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 14:30:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280550] results received
-- 2020-02-11 14:30:05 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280550] finished - execution time: 13 s 797 ms, fetching time: 1 s 250 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:32:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280551] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:32:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280551] results received
-- 2020-02-11 14:32:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280551] finished - execution time: 40 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:32:32 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280552] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 14:32:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280552] results received
-- 2020-02-11 14:32:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280552] finished - execution time: 15 s 203 ms, fetching time: 127 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:33:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280553] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:33:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280553] results received
-- 2020-02-11 14:33:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280553] finished - execution time: 26 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:33:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280554] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

and o.orders_id = 4569342

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 14:33:06 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280554] results received
-- 2020-02-11 14:33:07 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280554] finished - execution time: 73 ms, fetching time: 93 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:33:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280555] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:33:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280555] results received
-- 2020-02-11 14:33:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280555] finished - execution time: 54 ms, fetching time: 47 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:33:24 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280556] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 14:33:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280556] results received
-- 2020-02-11 14:33:39 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280556] finished - execution time: 15 s 196 ms, fetching time: 152 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:34:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280557] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:34:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280557] results received
-- 2020-02-11 14:34:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280557] finished - execution time: 65 ms, fetching time: 83 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:34:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280558] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

and o.orders_id = 4761536

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 14:34:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280558] results received
-- 2020-02-11 14:34:30 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280558] finished - execution time: 240 ms, fetching time: 295 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:38:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280559] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:38:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280559] results received
-- 2020-02-11 14:38:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280559] finished - execution time: 60 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:38:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280560] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 14:38:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280560] results received
-- 2020-02-11 14:38:29 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280560] finished - execution time: 15 s 209 ms, fetching time: 176 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:39:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280561] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 14:39:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280561] results received
-- 2020-02-11 14:39:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280561] finished - execution time: 103 ms, fetching time: 71 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 14:39:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280562] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

and o.orders_id = 4701537

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-11 14:39:03 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280562] results received
-- 2020-02-11 14:39:04 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280562] finished - execution time: 273 ms, fetching time: 165 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280563] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280563] results received
-- 2020-02-11 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280563] finished - execution time: 25 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:20:59 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280564] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 15:21:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280564] results received
-- 2020-02-11 15:21:14 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280564] finished - execution time: 15 s 209 ms, fetching time: 122 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:33:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280565] 
desc orders_customisations
-- ] --------------------------------------------------
-- 2020-02-11 15:33:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280565] results received
-- 2020-02-11 15:33:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280565] finished - execution time: 165 ms, fetching time: 116 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:33:45 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280566] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:33:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280566] results received
-- 2020-02-11 15:33:46 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280566] finished - execution time: 61 ms, fetching time: 88 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:34:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280567] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:34:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280567] results received
-- 2020-02-11 15:34:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280567] finished - execution time: 70 ms, fetching time: 76 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:34:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280568] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.custom_id = cf.customisation_id #AND cf.customer_id = oc.customer
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 15:34:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280568] results received
-- 2020-02-11 15:34:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280568] finished - execution time: 564 ms, fetching time: 235 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:35:27 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280569] 
desc customisations
-- ] --------------------------------------------------
-- 2020-02-11 15:35:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280569] results received
-- 2020-02-11 15:35:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280569] finished - execution time: 198 ms, fetching time: 106 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:35:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280570] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:35:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280570] results received
-- 2020-02-11 15:35:28 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280570] finished - execution time: 69 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:35:52 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280571] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:35:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280571] results received
-- 2020-02-11 15:35:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280571] finished - execution time: 117 ms, fetching time: 122 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:35:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280572] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.custom_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 15:35:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280572] results received
-- 2020-02-11 15:35:53 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280572] finished - execution time: 468 ms, fetching time: 114 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:36:02 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280573] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:36:02 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280573] results received
-- 2020-02-11 15:36:02 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280573] finished - execution time: 74 ms, fetching time: 91 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:36:02 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280574] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 15:36:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280574] results received
-- 2020-02-11 15:36:18 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280574] finished - execution time: 15 s 307 ms, fetching time: 175 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:37:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280575] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:37:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280575] results received
-- 2020-02-11 15:37:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280575] finished - execution time: 39 ms, fetching time: 48 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:37:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280576] 
SELECT *
FROM customisation_files_perceptual_hashes AS cf
JOIN customisations AS c ON cf.customisation_id = c.customisation_id AND cf.customer_id = c.customer_id
-- ] --------------------------------------------------
-- 2020-02-11 15:37:57 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280576] results received
-- 2020-02-11 15:37:58 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280576] finished - execution time: 307 ms, fetching time: 476 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:38:01 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280577] 
SELECT COUNT(*)
FROM customisation_files_perceptual_hashes AS cf
JOIN customisations AS c ON cf.customisation_id = c.customisation_id AND cf.customer_id = c.customer_id
-- ] --------------------------------------------------
-- 2020-02-11 15:38:02 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280577] results received
-- 2020-02-11 15:38:02 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280577] finished - execution time: 376 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:38:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280578] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:38:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280578] results received
-- 2020-02-11 15:38:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280578] finished - execution time: 35 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:38:26 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280579] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 15:38:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280579] results received
-- 2020-02-11 15:38:41 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280579] finished - execution time: 15 s 255 ms, fetching time: 136 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:38:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280580] 
EXPLAIN SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-11 15:38:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280580] results received
-- 2020-02-11 15:38:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280580] finished - execution time: 151 ms, fetching time: 96 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-11 15:38:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280581] 
select database()
-- ] --------------------------------------------------
-- 2020-02-11 15:38:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280581] results received
-- 2020-02-11 15:38:47 [default] [Staging RDS-RO] [console: console [Staging RDS-RO]] [session id: 439183068] [statement id: 1953280581] finished - execution time: 37 ms, fetching time: 35 ms, total result sets count: 1
-- 2020-02-11 15:53:37 [default] [Production RDS-RO] [session id: 439183056] disconnected
-- 2020-02-11 15:53:37 [default] [Production RDS-WRITE] [session id: 439183059] disconnected
-- 2020-02-11 15:53:37 [default] [Staging RDS-RO] [session id: 439183068] disconnected
-- 2020-02-12 07:59:01 [default] [Production RDS-RO] [session id: 232755710] connected
-- [ --------------------------------------------------
-- 2020-02-12 07:59:01 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459100] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 07:59:01 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459100] results received
-- 2020-02-12 07:59:01 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459100] finished - execution time: 136 ms, fetching time: 143 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459101] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459101] results received
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459101] finished - execution time: 89 ms, fetching time: 19 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459102] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459102] results received
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459102] finished - execution time: 88 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459103] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459103] results received
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459103] finished - execution time: 102 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459104] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459104] results received
-- 2020-02-12 07:59:02 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459104] finished - execution time: 98 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459105] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459105] results received
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459105] finished - execution time: 90 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459106] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459106] results received
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459106] finished - execution time: 38 ms, fetching time: 18 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459107] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459107] results received
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459107] finished - execution time: 91 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:03 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459108] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459108] results received
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459108] finished - execution time: 230 ms, fetching time: 44 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459109] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459109] results received
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459109] finished - execution time: 85 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459110] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459110] results received
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459110] finished - execution time: 93 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:04 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459111] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:05 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459111] results received
-- 2020-02-12 07:59:05 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459111] finished - execution time: 112 ms, fetching time: 124 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:05 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459112] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        null generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:05 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459112] results received
-- 2020-02-12 07:59:05 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459112] finished - execution time: 253 ms, fetching time: 347 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:05 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459113] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-02-12 07:59:06 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459113] results received
-- 2020-02-12 07:59:06 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459113] finished - execution time: 258 ms, fetching time: 94 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:06 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459114] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-02-12 07:59:06 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459114] results received
-- 2020-02-12 07:59:06 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459114] finished - execution time: 309 ms, fetching time: 59 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:06 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459115] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459115] results received
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459115] finished - execution time: 258 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459116] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459116] results received
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459116] finished - execution time: 281 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459117] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459117] results received
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459117] finished - execution time: 87 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:07 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459118] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459118] results received
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459118] finished - execution time: 226 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459119] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459119] results received
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459119] finished - execution time: 198 ms, fetching time: 4 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459120] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459120] results received
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459120] finished - execution time: 194 ms, fetching time: 1 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:08 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459121] 
select routine_name, routine_definition
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459121] results received
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459121] finished - execution time: 220 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459122] 
select
          trigger_name,
          event_object_table,
          action_statement
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459122] results received
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459122] finished - execution time: 154 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459123] 
select
          event_name,
          event_definition
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459123] results received
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [introspection] [session id: 232755710] [statement id: 19459123] finished - execution time: 263 ms, fetching time: 3 ms, total result sets count: 1
-- 2020-02-12 07:59:09 [default] [Production RDS-RO] [session id: 232755710] disconnected
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [session id: 232755711] connected
-- [ --------------------------------------------------
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459124] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459124] finished - execution time: 45 ms
-- [ --------------------------------------------------
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459125] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459125] results received
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459125] finished - execution time: 27 ms, fetching time: 86 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459126] 
select count(*) from customisation_files_perceptual_hashes
-- ] --------------------------------------------------
-- 2020-02-12 07:59:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459126] results received
-- 2020-02-12 07:59:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459126] finished - execution time: 407 ms, fetching time: 116 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459127] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 07:59:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459127] results received
-- 2020-02-12 07:59:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459127] finished - execution time: 45 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459128] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 07:59:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459128] results received
-- 2020-02-12 07:59:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459128] finished - execution time: 19 s 622 ms, fetching time: 170 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 07:59:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459129] 
SELECT COUNT(*) FROM (SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order) t
-- ] --------------------------------------------------
-- 2020-02-12 08:00:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459129] results received
-- 2020-02-12 08:00:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459129] finished - execution time: 15 s 606 ms, fetching time: 55 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:04:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459130] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:04:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459130] results received
-- 2020-02-12 08:04:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459130] finished - execution time: 26 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:04:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459131] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 08:04:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459131] results received
-- 2020-02-12 08:04:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459131] finished - execution time: 15 s 231 ms, fetching time: 94 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:09:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459132] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:09:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459132] results received
-- 2020-02-12 08:09:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459132] finished - execution time: 127 ms, fetching time: 119 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:09:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459133] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 08:09:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459133] results received
-- 2020-02-12 08:09:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459133] finished - execution time: 22 s 120 ms, fetching time: 99 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:09:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459134] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:09:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459134] results received
-- 2020-02-12 08:09:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459134] finished - execution time: 69 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:09:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459135] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 08:10:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459135] results received
-- 2020-02-12 08:10:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459135] finished - execution time: 22 s 450 ms, fetching time: 306 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:12:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459136] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:12:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459136] results received
-- 2020-02-12 08:12:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459136] finished - execution time: 115 ms, fetching time: 271 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:12:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459137] 
select count(*) from orders as o
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
-- ] --------------------------------------------------
-- 2020-02-12 08:12:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459137] results received
-- 2020-02-12 08:12:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459137] finished - execution time: 2 s 646 ms, fetching time: 120 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:19:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459138] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:19:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459138] results received
-- 2020-02-12 08:19:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459138] finished - execution time: 150 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:19:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459139] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

and o.orders_id = 5013830

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 08:19:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459139] results received
-- 2020-02-12 08:19:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459139] finished - execution time: 239 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:26:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459140] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:26:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459140] results received
-- 2020-02-12 08:26:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459140] finished - execution time: 52 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:26:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459141] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 08:26:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459141] results received
-- 2020-02-12 08:26:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459141] finished - execution time: 21 s 918 ms, fetching time: 71 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:55:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459142] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:55:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459142] results received
-- 2020-02-12 08:55:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459142] finished - execution time: 76 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:55:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459143] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 08:56:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459143] results received
-- 2020-02-12 08:56:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459143] finished - execution time: 33 s 22 ms, fetching time: 270 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:58:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459144] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 08:58:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459144] results received
-- 2020-02-12 08:58:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459144] finished - execution time: 55 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 08:58:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459145] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 08:58:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459145] results received
-- 2020-02-12 08:58:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459145] finished - execution time: 22 s 487 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:11:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459146] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:11:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459146] results received
-- 2020-02-12 09:11:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459146] finished - execution time: 174 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:11:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459147] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 09:11:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459147] results received
-- 2020-02-12 09:11:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459147] finished - execution time: 22 s 462 ms, fetching time: 132 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:12:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459148] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:12:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459148] results received
-- 2020-02-12 09:12:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459148] finished - execution time: 81 ms, fetching time: 126 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:12:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459149] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:12:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459149] results received
-- 2020-02-12 09:12:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459149] finished - execution time: 22 s 596 ms, fetching time: 264 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:12:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459150] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:12:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459150] results received
-- 2020-02-12 09:12:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459150] finished - execution time: 163 ms, fetching time: 142 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:12:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459151] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:13:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459151] results received
-- 2020-02-12 09:13:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459151] finished - execution time: 22 s 457 ms, fetching time: 181 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459152] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459152] results received
-- 2020-02-12 09:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459152] finished - execution time: 64 ms, fetching time: 55 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459153] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width and c.customisation_logo <> c.customisation_logo
-- ] --------------------------------------------------
-- 2020-02-12 09:14:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459153] results received
-- 2020-02-12 09:14:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459153] finished - execution time: 22 s 499 ms, fetching time: 127 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:15:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459154] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:15:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459154] results received
-- 2020-02-12 09:15:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459154] finished - execution time: 68 ms, fetching time: 49 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:15:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459155] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    c.*,
    COUNT(cf.file_type),
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:15:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459155] results received
-- 2020-02-12 09:15:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459155] finished - execution time: 22 s 809 ms, fetching time: 384 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:15:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459156] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:15:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459156] results received
-- 2020-02-12 09:15:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459156] finished - execution time: 213 ms, fetching time: 286 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:15:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459157] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.file_type),
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:16:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459157] results received
-- 2020-02-12 09:16:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459157] finished - execution time: 23 s 529 ms, fetching time: 273 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:21:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459158] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:21:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459158] results received
-- 2020-02-12 09:21:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459158] finished - execution time: 53 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:21:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459159] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'

  and oc.customisation_id > 0

and o.orders_id = 4528494

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:21:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459159] results received
-- 2020-02-12 09:21:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459159] finished - execution time: 80 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:24:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459160] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:24:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459160] results received
-- 2020-02-12 09:24:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459160] finished - execution time: 59 ms, fetching time: 89 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:24:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459161] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(cf.file_type),
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:24:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459161] results received
-- 2020-02-12 09:24:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459161] finished - execution time: 23 s 709 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:25:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459162] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:25:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459162] results received
-- 2020-02-12 09:25:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459162] finished - execution time: 45 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:25:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459163] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type),
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:25:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459163] results received
-- 2020-02-12 09:25:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459163] finished - execution time: 23 s 819 ms, fetching time: 58 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:26:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459164] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:26:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459164] results received
-- 2020-02-12 09:26:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459164] finished - execution time: 51 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:26:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459165] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4528494

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:26:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459165] results received
-- 2020-02-12 09:26:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459165] finished - execution time: 140 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:27:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459166] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:27:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459166] results received
-- 2020-02-12 09:27:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459166] finished - execution time: 46 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:27:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459167] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4528494

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:27:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459167] results received
-- 2020-02-12 09:27:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459167] finished - execution time: 83 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:27:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459168] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:27:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459168] results received
-- 2020-02-12 09:27:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459168] finished - execution time: 51 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:27:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459169] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type),
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 09:27:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459169] results received
-- 2020-02-12 09:27:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459169] finished - execution time: 15 s 645 ms, fetching time: 69 ms, total result sets count: 1
-- 2020-02-12 09:34:19 [default] [Production RDS-WRITE] [session id: 232755712] connected
-- [ --------------------------------------------------
-- 2020-02-12 09:34:19 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459170] 
use quaysidg_news
-- ] --------------------------------------------------
-- 2020-02-12 09:34:20 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459170] finished - execution time: 180 ms
-- [ --------------------------------------------------
-- 2020-02-12 09:34:37 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459171] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:34:37 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459171] results received
-- 2020-02-12 09:34:38 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459171] finished - execution time: 114 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:34:38 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459172] 
select * from staff_info where first_name like "%ayne%"
-- ] --------------------------------------------------
-- 2020-02-12 09:34:38 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459172] results received
-- 2020-02-12 09:34:38 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459172] finished - execution time: 290 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:35:47 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459173] 
UPDATE quaysidg_news.staff_info t SET t.password = ? WHERE t.staff_id = ?
-- ] --------------------------------------------------
-- 2020-02-12 09:35:47 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459173] update count received - 1
-- 2020-02-12 09:35:47 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459173] finished - execution time: 173 ms, fetching time: 90 ms, total update count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:35:48 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459174] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:35:48 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459174] results received
-- 2020-02-12 09:35:48 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459174] finished - execution time: 93 ms, fetching time: 96 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:35:48 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459175] 
select * from staff_info where first_name like "%ayne%"
-- ] --------------------------------------------------
-- 2020-02-12 09:35:48 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459175] results received
-- 2020-02-12 09:35:49 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459175] finished - execution time: 283 ms, fetching time: 119 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:37:22 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459176] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:37:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459176] results received
-- 2020-02-12 09:37:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459176] finished - execution time: 178 ms, fetching time: 91 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:37:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459177] 
select * from staff_permissions
-- ] --------------------------------------------------
-- 2020-02-12 09:37:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459177] results received
-- 2020-02-12 09:37:23 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459177] finished - execution time: 309 ms, fetching time: 191 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:37:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459178] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:37:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459178] results received
-- 2020-02-12 09:37:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459178] finished - execution time: 183 ms, fetching time: 90 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:37:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459179] 
select * from logins_passwords
-- ] --------------------------------------------------
-- 2020-02-12 09:37:32 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459179] results received
-- 2020-02-12 09:37:32 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459179] finished - execution time: 312 ms, fetching time: 129 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:38:30 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459180] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:38:30 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459180] results received
-- 2020-02-12 09:38:30 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459180] finished - execution time: 239 ms, fetching time: 47 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:38:30 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459181] 
select * from password_resets
-- ] --------------------------------------------------
-- 2020-02-12 09:38:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459181] error - [42S02][1146] Table 'quaysidg_news.password_resets' doesn't exist
-- 2020-02-12 09:38:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] [statement id: 19459181] finished - execution time: 428 ms
-- 2020-02-12 09:38:31 [default] [Production RDS-WRITE] [console: console [Production RDS-WRITE]] [session id: 232755712] warning - [42S02][1146] Table 'quaysidg_news.password_resets' doesn't exist
-- [ --------------------------------------------------
-- 2020-02-12 09:44:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459182] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:44:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459182] results received
-- 2020-02-12 09:44:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459182] finished - execution time: 123 ms, fetching time: 134 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:44:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459183] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order <> files_on_order and c.customisation_width = c.customisation_width and files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:44:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459183] results received
-- 2020-02-12 09:44:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459183] finished - execution time: 27 s 691 ms, fetching time: 59 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:45:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459184] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:45:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459184] results received
-- 2020-02-12 09:45:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459184] finished - execution time: 75 ms, fetching time: 109 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:45:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459185] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < files_on_order and c.customisation_width = c.customisation_width and files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:45:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459185] results received
-- 2020-02-12 09:45:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459185] finished - execution time: 15 s 770 ms, fetching time: 104 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459186] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:49:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459186] results received
-- 2020-02-12 09:49:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459186] finished - execution time: 75 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459187] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:49:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459187] results received
-- 2020-02-12 09:49:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459187] finished - execution time: 85 ms, fetching time: 112 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459188] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459188] results received
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459188] finished - execution time: 51 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459189] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459189] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from orders o\n     join orders_customisations oc on oc.order_id = o.orders_id\n  ' at line 4
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459189] finished - execution time: 150 ms
-- 2020-02-12 09:49:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from orders o\n     join orders_customisations oc on oc.order_id = o.orders_id\n  ' at line 4
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from orders o\n     join orders_customisations oc on oc.order_id = o.orders_id\n  ' at line 4
-- [ --------------------------------------------------
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459190] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459190] results received
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459190] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from orders o\n     join orders_customisations oc on oc.order_id = o.orders_id\n  ' at line 4
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459190] finished - execution time: 49 ms, fetching time: 30 ms, total result sets count: 1
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'from orders o\n     join orders_customisations oc on oc.order_id = o.orders_id\n  ' at line 4
-- [ --------------------------------------------------
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459191] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459191] results received
-- 2020-02-12 09:49:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459191] finished - execution time: 149 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459192] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:49:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459192] results received
-- 2020-02-12 09:49:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459192] finished - execution time: 52 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459193] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:49:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459193] results received
-- 2020-02-12 09:49:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459193] finished - execution time: 143 ms, fetching time: 56 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459194] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:49:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459194] results received
-- 2020-02-12 09:49:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459194] finished - execution time: 55 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:49:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459195] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:49:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459195] results received
-- 2020-02-12 09:49:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459195] finished - execution time: 101 ms, fetching time: 58 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:50:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459196] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:50:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459196] results received
-- 2020-02-12 09:50:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459196] finished - execution time: 50 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:50:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459197] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < files_on_order and c.customisation_width = c.customisation_width and files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:50:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459197] results received
-- 2020-02-12 09:50:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459197] finished - execution time: 16 s 402 ms, fetching time: 56 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:50:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459198] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:50:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459198] results received
-- 2020-02-12 09:50:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459198] finished - execution time: 54 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:50:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459199] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < files_on_order and c.customisation_width = c.customisation_width and files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:51:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459199] results received
-- 2020-02-12 09:51:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459199] finished - execution time: 23 s 853 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459200] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459200] results received
-- 2020-02-12 09:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459200] finished - execution time: 117 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459201] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and cf.perceptual_hash > ''

  and oc.customisation_id > 0

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 09:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459201] results received
-- 2020-02-12 09:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459201] finished - execution time: 76 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459202] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459202] results received
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459202] finished - execution time: 50 ms, fetching time: 90 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459203] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < files_on_order and c.customisation_width = c.customisation_width and files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459203] error - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459203] finished - execution time: 85 ms
-- 2020-02-12 09:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459204] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459204] results received
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459204] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459204] finished - execution time: 49 ms, fetching time: 92 ms, total result sets count: 1
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459205] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and c.customisation_width = c.customisation_width and files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459205] error - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459205] finished - execution time: 74 ms
-- 2020-02-12 09:54:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459206] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459206] results received
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459206] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459206] finished - execution time: 51 ms, fetching time: 87 ms, total result sets count: 1
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'files_on_order' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 09:54:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459207] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and c.customisation_width = c.customisation_width and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:55:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459207] results received
-- 2020-02-12 09:55:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459207] finished - execution time: 22 s 325 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:58:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459208] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 09:58:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459208] results received
-- 2020-02-12 09:58:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459208] finished - execution time: 45 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 09:58:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459209] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
# LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id#, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 09:58:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459209] results received
-- 2020-02-12 09:58:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459209] finished - execution time: 21 s 868 ms, fetching time: 71 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:04:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459210] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:04:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459210] results received
-- 2020-02-12 10:04:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459210] finished - execution time: 47 ms, fetching time: 97 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:04:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459211] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
# LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id#, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count and unique_files_on_order > possible_dup_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 10:04:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459211] results received
-- 2020-02-12 10:04:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459211] finished - execution time: 21 s 947 ms, fetching time: 56 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:04:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459212] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:04:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459212] results received
-- 2020-02-12 10:04:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459212] finished - execution time: 50 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:04:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459213] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
# LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id#, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:04:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459213] results received
-- 2020-02-12 10:04:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459213] finished - execution time: 21 s 977 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:04:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459214] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:04:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459214] results received
-- 2020-02-12 10:04:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459214] finished - execution time: 116 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:04:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459215] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
# LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id#, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count and possible_dup_files_on_order > file_types_count and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:04:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459215] error - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- 2020-02-12 10:04:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459215] finished - execution time: 152 ms
-- 2020-02-12 10:04:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459216] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459216] results received
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459216] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459216] finished - execution time: 86 ms, fetching time: 113 ms, total result sets count: 1
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 10:05:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459217] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
 LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_logo, c.customisation_width
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:05:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459217] results received
-- 2020-02-12 10:05:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459217] finished - execution time: 22 s 35 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:06:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459218] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:06:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459218] results received
-- 2020-02-12 10:06:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459218] finished - execution time: 49 ms, fetching time: 97 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:06:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459219] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width)
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
 LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:06:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459219] results received
-- 2020-02-12 10:06:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459219] finished - execution time: 21 s 894 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:07:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459220] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:07:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459220] results received
-- 2020-02-12 10:07:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459220] finished - execution time: 80 ms, fetching time: 62 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:07:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459221] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order < possible_dup_files_on_order and possible_dup_files_on_order > file_types_count and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:07:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459221] results received
-- 2020-02-12 10:07:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459221] finished - execution time: 22 s 165 ms, fetching time: 74 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:08:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459222] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:08:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459222] results received
-- 2020-02-12 10:08:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459222] finished - execution time: 74 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:08:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459223] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order < possible_dup_files_on_order
   and possible_dup_files_on_order > file_types_count
   and possible_dup_files_on_order > file_types_count
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:08:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459223] results received
-- 2020-02-12 10:08:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459223] finished - execution time: 22 s 89 ms, fetching time: 82 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:08:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459224] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:08:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459224] results received
-- 2020-02-12 10:08:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459224] finished - execution time: 171 ms, fetching time: 42 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:08:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459225] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
HAVING unique_files_on_order < possible_dup_files_on_order
   and possible_dup_files_on_order > file_types_count
   and possible_dup_files_on_order > file_types_count
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:08:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459225] results received
-- 2020-02-12 10:08:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459225] finished - execution time: 15 s 580 ms, fetching time: 76 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:09:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459226] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:09:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459226] results received
-- 2020-02-12 10:09:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459226] finished - execution time: 105 ms, fetching time: 135 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:09:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459227] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

and o.orders_id = 4920422

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:09:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459227] results received
-- 2020-02-12 10:09:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459227] finished - execution time: 196 ms, fetching time: 66 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:11:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459228] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:11:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459228] results received
-- 2020-02-12 10:11:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459228] finished - execution time: 85 ms, fetching time: 121 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:11:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459229] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type

HAVING unique_files_on_order < possible_dup_files_on_order
   and possible_dup_files_on_order > file_types_count
   and possible_dup_files_on_order > file_types_count
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:11:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459229] results received
-- 2020-02-12 10:11:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459229] finished - execution time: 15 s 656 ms, fetching time: 121 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:11:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459230] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:11:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459230] results received
-- 2020-02-12 10:11:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459230] finished - execution time: 102 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:11:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459231] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type

HAVING unique_files_on_order < possible_dup_files_on_order
   and possible_dup_files_on_order > file_types_count
   and possible_dup_files_on_order > file_types_count
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:12:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459231] results received
-- 2020-02-12 10:12:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459231] finished - execution time: 22 s 753 ms, fetching time: 976 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:13:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459232] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:13:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459232] results received
-- 2020-02-12 10:13:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459232] finished - execution time: 65 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:13:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459233] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type

HAVING unique_files_on_order < possible_dup_files_on_order
   and possible_dup_files_on_order > file_types_count
   and c.customisation_width <> c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:13:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459233] results received
-- 2020-02-12 10:13:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459233] finished - execution time: 23 s 194 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:13:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459234] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:13:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459234] results received
-- 2020-02-12 10:13:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459234] finished - execution time: 68 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:13:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459235] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    c.customisation_width
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:14:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459235] results received
-- 2020-02-12 10:14:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459235] finished - execution time: 22 s 692 ms, fetching time: 88 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:15:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459236] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:15:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459236] results received
-- 2020-02-12 10:15:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459236] finished - execution time: 95 ms, fetching time: 37 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:15:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459237] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    c.customisation_width
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 10:15:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459237] results received
-- 2020-02-12 10:15:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459237] finished - execution time: 22 s 521 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:16:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459238] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:16:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459238] results received
-- 2020-02-12 10:16:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459238] finished - execution time: 46 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:16:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459239] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    c.customisation_width
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:16:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459239] results received
-- 2020-02-12 10:16:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459239] finished - execution time: 22 s 169 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:16:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459240] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:16:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459240] results received
-- 2020-02-12 10:16:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459240] finished - execution time: 50 ms, fetching time: 93 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:16:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459241] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and cf.file_type > 1

and o.orders_id = 5063801

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:16:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459241] results received
-- 2020-02-12 10:16:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459241] finished - execution time: 81 ms, fetching time: 52 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:17:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459242] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:17:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459242] results received
-- 2020-02-12 10:17:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459242] finished - execution time: 55 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:17:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459243] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5063801

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:17:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459243] results received
-- 2020-02-12 10:17:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459243] finished - execution time: 82 ms, fetching time: 49 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:17:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459244] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:17:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459244] results received
-- 2020-02-12 10:17:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459244] finished - execution time: 52 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:17:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459245] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    oc.custom_type,
    c.customisation_width
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:18:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459245] results received
-- 2020-02-12 10:18:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459245] finished - execution time: 22 s 527 ms, fetching time: 82 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:18:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459246] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:18:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459246] results received
-- 2020-02-12 10:18:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459246] finished - execution time: 47 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:18:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459247] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    oc.custom_type,
    c.customisation_width
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:19:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459247] results received
-- 2020-02-12 10:19:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459247] finished - execution time: 22 s 672 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:19:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459248] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:19:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459248] results received
-- 2020-02-12 10:19:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459248] finished - execution time: 48 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:19:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459249] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    count(oc.custom_type),
    count(c.customisation_width)
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:19:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459249] results received
-- 2020-02-12 10:19:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459249] finished - execution time: 22 s 658 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459250] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459250] results received
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459250] finished - execution time: 69 ms, fetching time: 89 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459251] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    count(oc.custom_type),
    count(c.customisation_width)
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and c.customisation_width = c.customisation_width
-- ] --------------------------------------------------
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459251] error - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459251] finished - execution time: 144 ms
-- 2020-02-12 10:19:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459252] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459252] results received
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459252] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459252] finished - execution time: 50 ms, fetching time: 30 ms, total result sets count: 1
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'c.customisation_width' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 10:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459253] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    count(oc.custom_type),
    count(c.customisation_width)
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 10:20:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459253] results received
-- 2020-02-12 10:20:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459253] finished - execution time: 22 s 685 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:21:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459254] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:21:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459254] results received
-- 2020-02-12 10:21:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459254] finished - execution time: 53 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:21:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459255] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) as unique_width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 10:21:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459255] results received
-- 2020-02-12 10:21:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459255] finished - execution time: 22 s 616 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:21:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459256] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:21:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459256] results received
-- 2020-02-12 10:21:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459256] finished - execution time: 53 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:21:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459257] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
-- ] --------------------------------------------------
-- 2020-02-12 10:22:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459257] results received
-- 2020-02-12 10:22:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459257] finished - execution time: 22 s 863 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:22:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459258] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:22:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459258] results received
-- 2020-02-12 10:22:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459258] finished - execution time: 48 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:22:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459259] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
-- ] --------------------------------------------------
-- 2020-02-12 10:22:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459259] results received
-- 2020-02-12 10:22:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459259] finished - execution time: 22 s 504 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:23:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459260] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:23:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459260] results received
-- 2020-02-12 10:23:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459260] finished - execution time: 56 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:23:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459261] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
-- ] --------------------------------------------------
-- 2020-02-12 10:23:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459261] results received
-- 2020-02-12 10:23:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459261] finished - execution time: 22 s 697 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:26:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459262] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:26:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459262] results received
-- 2020-02-12 10:26:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459262] finished - execution time: 97 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:26:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459263] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     count(c.customisation_width) as width_count,
#     count(distinct oc.custom_type) as unique_custom_types,
#     count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 10:26:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459263] results received
-- 2020-02-12 10:26:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459263] finished - execution time: 22 s 760 ms, fetching time: 80 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:27:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459264] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:27:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459264] results received
-- 2020-02-12 10:27:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459264] finished - execution time: 104 ms, fetching time: 80 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:27:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459265] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     count(c.customisation_width) as width_count,
#     count(distinct oc.custom_type) as unique_custom_types,
#     count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
    and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:27:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459265] results received
-- 2020-02-12 10:27:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459265] finished - execution time: 22 s 581 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:27:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459266] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:27:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459266] results received
-- 2020-02-12 10:27:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459266] finished - execution time: 108 ms, fetching time: 99 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:27:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459267] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     count(c.customisation_width) as width_count,
#     count(distinct oc.custom_type) as unique_custom_types,
#     count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
    and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:28:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459267] results received
-- 2020-02-12 10:28:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459267] finished - execution time: 22 s 441 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:28:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459268] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:28:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459268] results received
-- 2020-02-12 10:28:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459268] finished - execution time: 51 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:28:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459269] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
    and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:28:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459269] results received
-- 2020-02-12 10:28:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459269] finished - execution time: 22 s 665 ms, fetching time: 110 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:29:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459270] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:29:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459270] results received
-- 2020-02-12 10:29:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459270] finished - execution time: 77 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:29:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459271] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       , c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
    and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:29:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459271] results received
-- 2020-02-12 10:29:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459271] finished - execution time: 22 s 590 ms, fetching time: 64 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:29:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459272] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:29:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459272] results received
-- 2020-02-12 10:29:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459272] finished - execution time: 48 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:29:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459273] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
-- ] --------------------------------------------------
-- 2020-02-12 10:30:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459273] results received
-- 2020-02-12 10:30:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459273] finished - execution time: 23 s 217 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:30:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459274] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:30:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459274] results received
-- 2020-02-12 10:30:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459274] finished - execution time: 50 ms, fetching time: 24 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:30:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459275] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
   and width_count > unique_custom_widths
-- ] --------------------------------------------------
-- 2020-02-12 10:30:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459275] results received
-- 2020-02-12 10:30:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459275] finished - execution time: 23 s 89 ms, fetching time: 103 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:31:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459276] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:31:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459276] results received
-- 2020-02-12 10:31:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459276] finished - execution time: 118 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:31:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459277] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
   and width_count > (unique_custom_widths * file_types_count)
-- ] --------------------------------------------------
-- 2020-02-12 10:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459277] results received
-- 2020-02-12 10:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459277] finished - execution time: 22 s 771 ms, fetching time: 436 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:32:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459278] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:32:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459278] results received
-- 2020-02-12 10:32:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459278] finished - execution time: 50 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:32:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459279] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_custom_types,
    count(distinct c.customisation_width) as unique_custom_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type))
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_custom_widths > unique_custom_types
   and width_count > (unique_custom_widths * file_types_count)
-- ] --------------------------------------------------
-- 2020-02-12 10:32:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459279] results received
-- 2020-02-12 10:32:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459279] finished - execution time: 22 s 817 ms, fetching time: 136 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:39:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459280] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:39:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459280] results received
-- 2020-02-12 10:39:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459280] finished - execution time: 86 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:39:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459281] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_widths > unique_types
   and width_count > (unique_widths * file_types_count)
-- ] --------------------------------------------------
-- 2020-02-12 10:39:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459281] results received
-- 2020-02-12 10:39:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459281] finished - execution time: 22 s 792 ms, fetching time: 121 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:39:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459282] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:39:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459282] results received
-- 2020-02-12 10:39:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459282] finished - execution time: 62 ms, fetching time: 55 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:39:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459283] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_widths > unique_types
-- ] --------------------------------------------------
-- 2020-02-12 10:40:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459283] results received
-- 2020-02-12 10:40:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459283] finished - execution time: 23 s 477 ms, fetching time: 101 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:41:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459284] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:41:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459284] results received
-- 2020-02-12 10:41:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459284] finished - execution time: 98 ms, fetching time: 51 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:41:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459285] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_widths > unique_types
   and width_count > (unique_widths * unique_types)
-- ] --------------------------------------------------
-- 2020-02-12 10:41:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459285] results received
-- 2020-02-12 10:41:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459285] finished - execution time: 29 s 66 ms, fetching time: 97 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:42:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459286] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:42:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459286] results received
-- 2020-02-12 10:42:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459286] finished - execution time: 61 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:42:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459287] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_widths > unique_types
   and width_count > (unique_widths * file_types_count)
-- ] --------------------------------------------------
-- 2020-02-12 10:43:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459287] results received
-- 2020-02-12 10:43:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459287] finished - execution time: 23 s 22 ms, fetching time: 825 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:44:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459288] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:44:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459288] results received
-- 2020-02-12 10:44:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459288] finished - execution time: 108 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:44:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459289] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5145230

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:44:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459289] results received
-- 2020-02-12 10:44:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459289] finished - execution time: 196 ms, fetching time: 60 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:45:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459290] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:45:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459290] results received
-- 2020-02-12 10:45:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459290] finished - execution time: 81 ms, fetching time: 40 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:45:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459291] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5145230

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:45:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459291] results received
-- 2020-02-12 10:45:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459291] finished - execution time: 174 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:45:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459292] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:45:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459292] results received
-- 2020-02-12 10:45:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459292] finished - execution time: 72 ms, fetching time: 40 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:45:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459293] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_widths > unique_types
   and width_count > (unique_widths * file_types_count)
-- ] --------------------------------------------------
-- 2020-02-12 10:45:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459293] results received
-- 2020-02-12 10:45:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459293] finished - execution time: 22 s 531 ms, fetching time: 137 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:48:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459294] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:48:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459294] results received
-- 2020-02-12 10:48:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459294] finished - execution time: 46 ms, fetching time: 88 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:48:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459295] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
   and unique_widths > unique_types
   and width_count > (unique_widths * file_types_count)
-- ] --------------------------------------------------
-- 2020-02-12 10:48:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459295] results received
-- 2020-02-12 10:48:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459295] finished - execution time: 22 s 580 ms, fetching time: 68 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:48:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459296] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:48:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459296] results received
-- 2020-02-12 10:48:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459296] finished - execution time: 51 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:48:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459297] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:49:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459297] results received
-- 2020-02-12 10:49:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459297] finished - execution time: 22 s 667 ms, fetching time: 98 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:49:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459298] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:49:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459298] results received
-- 2020-02-12 10:49:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459298] finished - execution time: 51 ms, fetching time: 94 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:49:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459299] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:49:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459299] results received
-- 2020-02-12 10:49:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459299] finished - execution time: 23 s 205 ms, fetching time: 123 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:50:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459300] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:50:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459300] results received
-- 2020-02-12 10:50:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459300] finished - execution time: 53 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:50:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459301] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5063801

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:50:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459301] results received
-- 2020-02-12 10:50:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459301] finished - execution time: 179 ms, fetching time: 61 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459302] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459302] results received
-- 2020-02-12 10:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459302] finished - execution time: 50 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459303] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct oc.custom_type) as unique_types,
    count(distinct c.customisation_width) as unique_widths,
    (count(distinct c.customisation_width) * count(distinct cf.file_type)) as 'unique_widths * files_types'
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459303] results received
-- 2020-02-12 10:51:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459303] finished - execution time: 23 s 135 ms, fetching time: 811 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:54:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459304] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:54:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459304] results received
-- 2020-02-12 10:54:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459304] finished - execution time: 50 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:54:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459305] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:54:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459305] results received
-- 2020-02-12 10:54:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459305] finished - execution time: 22 s 958 ms, fetching time: 755 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:55:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459306] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:55:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459306] results received
-- 2020-02-12 10:55:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459306] finished - execution time: 51 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:55:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459307] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    count(distinct cf.file_type) as file_types_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:55:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459307] results received
-- 2020-02-12 10:55:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459307] finished - execution time: 23 s 4 ms, fetching time: 96 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459308] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459308] results received
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459308] finished - execution time: 110 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459309] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and possible_dup_files_on_order > file_types_count
-- ] --------------------------------------------------
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459309] error - [42S22][1054] Unknown column 'file_types_count' in 'having clause'
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459309] finished - execution time: 149 ms
-- 2020-02-12 10:55:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'file_types_count' in 'having clause'
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'file_types_count' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459310] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459310] results received
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459310] warning - [42S22][1054] Unknown column 'file_types_count' in 'having clause'
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459310] finished - execution time: 46 ms, fetching time: 30 ms, total result sets count: 1
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42S22][1054] Unknown column 'file_types_count' in 'having clause'
-- [ --------------------------------------------------
-- 2020-02-12 10:55:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459311] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 10:56:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459311] results received
-- 2020-02-12 10:56:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459311] finished - execution time: 22 s 881 ms, fetching time: 759 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:56:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459312] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:56:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459312] results received
-- 2020-02-12 10:56:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459312] finished - execution time: 52 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:56:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459313] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
#    and possible_dup_files_on_order > file_types_count
#    and unique_widths > unique_types
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:57:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459313] results received
-- 2020-02-12 10:57:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459313] finished - execution time: 22 s 991 ms, fetching time: 743 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:57:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459314] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:57:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459314] results received
-- 2020-02-12 10:57:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459314] finished - execution time: 67 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:57:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459315] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5063801

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 10:57:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459315] results received
-- 2020-02-12 10:57:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459315] finished - execution time: 150 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:58:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459316] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:58:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459316] results received
-- 2020-02-12 10:58:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459316] finished - execution time: 57 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:58:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459317] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:58:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459317] results received
-- 2020-02-12 10:58:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459317] finished - execution time: 22 s 906 ms, fetching time: 782 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:58:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459318] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:58:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459318] results received
-- 2020-02-12 10:58:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459318] finished - execution time: 76 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:58:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459319] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:58:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459319] results received
-- 2020-02-12 10:58:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459319] finished - execution time: 154 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459320] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:59:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459320] results received
-- 2020-02-12 10:59:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459320] finished - execution time: 51 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459321] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:59:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459321] results received
-- 2020-02-12 10:59:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459321] finished - execution time: 178 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459322] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459322] results received
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459322] finished - execution time: 68 ms, fetching time: 41 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459323] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width,
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459323] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459323] finished - execution time: 83 ms
-- 2020-02-12 10:59:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- [ --------------------------------------------------
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459324] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459324] results received
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459324] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459324] finished - execution time: 48 ms, fetching time: 90 ms, total result sets count: 1
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- [ --------------------------------------------------
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459325] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, c.customisation_width
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:59:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459325] results received
-- 2020-02-12 10:59:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459325] finished - execution time: 75 ms, fetching time: 78 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459326] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459326] results received
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459326] finished - execution time: 48 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459327] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id,
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459327] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459327] finished - execution time: 75 ms
-- 2020-02-12 10:59:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- [ --------------------------------------------------
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459328] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459328] results received
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459328] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459328] finished - execution time: 50 ms, fetching time: 92 ms, total result sets count: 1
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 28
-- [ --------------------------------------------------
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459329] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:59:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459329] results received
-- 2020-02-12 10:59:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459329] finished - execution time: 72 ms, fetching time: 61 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459330] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 10:59:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459330] results received
-- 2020-02-12 10:59:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459330] finished - execution time: 55 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 10:59:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459331] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_name, o.orders_id, oc.custom_type, o.customers_name, o.customers_email_address, o.orders_id, o.customers_id, cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 10:59:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459331] results received
-- 2020-02-12 10:59:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459331] finished - execution time: 73 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:00:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459332] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:00:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459332] results received
-- 2020-02-12 11:00:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459332] finished - execution time: 47 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:00:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459333] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 11:00:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459333] results received
-- 2020-02-12 11:00:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459333] finished - execution time: 80 ms, fetching time: 58 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459334] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459334] results received
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459334] finished - execution time: 49 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459335] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459335] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 31
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459335] finished - execution time: 79 ms
-- 2020-02-12 11:00:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 31
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 31
-- [ --------------------------------------------------
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459336] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459336] results received
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459336] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 31
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459336] finished - execution time: 49 ms, fetching time: 26 ms, total result sets count: 1
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING possible_dup_files_on_order > unique_files_on_order\n   and width_count > ' at line 31
-- [ --------------------------------------------------
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459337] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459337] results received
-- 2020-02-12 11:00:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459337] finished - execution time: 151 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:00:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459338] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:00:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459338] results received
-- 2020-02-12 11:00:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459338] finished - execution time: 77 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:00:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459339] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type,
    cf.file_type,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 11:00:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459339] results received
-- 2020-02-12 11:00:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459339] finished - execution time: 96 ms, fetching time: 51 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:01:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459340] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:01:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459340] results received
-- 2020-02-12 11:01:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459340] finished - execution time: 106 ms, fetching time: 37 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:01:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459341] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 11:01:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459341] results received
-- 2020-02-12 11:01:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459341] finished - execution time: 121 ms, fetching time: 62 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:01:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459342] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:01:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459342] results received
-- 2020-02-12 11:01:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459342] finished - execution time: 53 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:01:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459343] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
-- ] --------------------------------------------------
-- 2020-02-12 11:01:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459343] results received
-- 2020-02-12 11:01:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459343] finished - execution time: 73 ms, fetching time: 49 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:02:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459344] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:02:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459344] results received
-- 2020-02-12 11:02:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459344] finished - execution time: 56 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:02:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459345] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > unique_width_count
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:02:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459345] results received
-- 2020-02-12 11:02:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459345] finished - execution time: 86 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:02:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459346] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:02:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459346] results received
-- 2020-02-12 11:02:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459346] finished - execution time: 50 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:02:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459347] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:02:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459347] results received
-- 2020-02-12 11:02:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459347] finished - execution time: 80 ms, fetching time: 53 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:04:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459348] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:04:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459348] results received
-- 2020-02-12 11:04:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459348] finished - execution time: 51 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:04:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459349] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:04:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459349] results received
-- 2020-02-12 11:04:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459349] finished - execution time: 22 s 724 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:05:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459350] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:05:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459350] results received
-- 2020-02-12 11:05:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459350] finished - execution time: 61 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:05:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459351] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
    or unique_width_count = 1
-- ] --------------------------------------------------
-- 2020-02-12 11:06:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459351] results received
-- 2020-02-12 11:06:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459351] finished - execution time: 22 s 941 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:06:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459352] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:06:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459352] results received
-- 2020-02-12 11:06:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459352] finished - execution time: 51 ms, fetching time: 36 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:06:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459353] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 4448523

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:06:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459353] results received
-- 2020-02-12 11:06:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459353] finished - execution time: 144 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:06:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459354] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:06:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459354] results received
-- 2020-02-12 11:06:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459354] finished - execution time: 57 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:06:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459355] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:07:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459355] results received
-- 2020-02-12 11:07:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459355] finished - execution time: 22 s 435 ms, fetching time: 71 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:07:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459356] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:07:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459356] results received
-- 2020-02-12 11:07:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459356] finished - execution time: 150 ms, fetching time: 68 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:07:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459357] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5026520

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:07:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459357] results received
-- 2020-02-12 11:07:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459357] finished - execution time: 128 ms, fetching time: 77 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:08:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459358] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:08:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459358] results received
-- 2020-02-12 11:08:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459358] finished - execution time: 66 ms, fetching time: 51 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:08:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459359] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:09:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459359] results received
-- 2020-02-12 11:09:04 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459359] finished - execution time: 22 s 804 ms, fetching time: 132 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:13:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459360] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:13:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459360] results received
-- 2020-02-12 11:13:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459360] finished - execution time: 67 ms, fetching time: 111 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:13:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459361] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5170051

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:13:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459361] results received
-- 2020-02-12 11:13:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459361] finished - execution time: 118 ms, fetching time: 104 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:14:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459362] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:14:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459362] results received
-- 2020-02-12 11:14:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459362] finished - execution time: 72 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:14:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459363] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS possible_dup_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING possible_dup_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:14:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459363] results received
-- 2020-02-12 11:14:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459363] finished - execution time: 22 s 746 ms, fetching time: 115 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:15:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459364] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:15:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459364] results received
-- 2020-02-12 11:15:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459364] finished - execution time: 125 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:15:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459365] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:16:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459365] results received
-- 2020-02-12 11:16:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459365] finished - execution time: 26 s 731 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:16:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459366] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:16:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459366] results received
-- 2020-02-12 11:16:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459366] finished - execution time: 71 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:16:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459367] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(distinct oc.custom_type) custom_type_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5063801
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:16:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459367] results received
-- 2020-02-12 11:16:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459367] finished - execution time: 23 s 384 ms, fetching time: 89 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:16:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459368] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:16:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459368] results received
-- 2020-02-12 11:16:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459368] finished - execution time: 62 ms, fetching time: 133 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:16:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459369] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(distinct oc.custom_type) custom_type_count
FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:16:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459369] results received
-- 2020-02-12 11:16:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459369] finished - execution time: 162 ms, fetching time: 98 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:17:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459370] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:17:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459370] results received
-- 2020-02-12 11:17:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459370] finished - execution time: 66 ms, fetching time: 37 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:17:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459371] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(distinct oc.custom_type) custom_type_count,
                   oc.custom_type

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:17:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459371] results received
-- 2020-02-12 11:17:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459371] finished - execution time: 101 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:18:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459372] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:18:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459372] results received
-- 2020-02-12 11:18:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459372] finished - execution time: 73 ms, fetching time: 34 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:18:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459373] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(distinct oc.custom_type) custom_type_count,
                   oc.custom_type

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 11:18:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459373] results received
-- 2020-02-12 11:18:03 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459373] finished - execution time: 139 ms, fetching time: 139 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459374] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459374] results received
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459374] finished - execution time: 79 ms, fetching time: 38 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459375] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(distinct oc.custom_type) custom_type_count,
                   oc.custom_type

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459375] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order' at line 33
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459375] finished - execution time: 132 ms
-- 2020-02-12 11:18:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order' at line 33
-- 2020-02-12 11:18:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order' at line 33
-- [ --------------------------------------------------
-- 2020-02-12 11:18:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459376] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459376] results received
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459376] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order' at line 33
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459376] finished - execution time: 244 ms, fetching time: 68 ms, total result sets count: 1
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order' at line 33
-- [ --------------------------------------------------
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459377] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(distinct oc.custom_type) custom_type_count,
                   oc.custom_type

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459377] results received
-- 2020-02-12 11:18:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459377] finished - execution time: 196 ms, fetching time: 90 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:18:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459378] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:18:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459378] results received
-- 2020-02-12 11:18:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459378] finished - execution time: 70 ms, fetching time: 137 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:18:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459379] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 11:18:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459379] results received
-- 2020-02-12 11:18:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459379] finished - execution time: 146 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:19:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459380] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:19:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459380] results received
-- 2020-02-12 11:19:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459380] finished - execution time: 47 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:19:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459381] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 11:20:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459381] results received
-- 2020-02-12 11:20:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459381] finished - execution time: 26 s 128 ms, fetching time: 563 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:20:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459382] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:20:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459382] results received
-- 2020-02-12 11:20:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459382] finished - execution time: 57 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:20:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459383] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:20:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459383] results received
-- 2020-02-12 11:20:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459383] finished - execution time: 23 s 365 ms, fetching time: 811 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459384] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459384] results received
-- 2020-02-12 11:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459384] finished - execution time: 65 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459385] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count * unique_custom_type_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:23:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459385] results received
-- 2020-02-12 11:23:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459385] finished - execution time: 23 s 25 ms, fetching time: 740 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:24:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459386] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:24:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459386] results received
-- 2020-02-12 11:24:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459386] finished - execution time: 49 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:24:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459387] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459387] results received
-- 2020-02-12 11:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459387] finished - execution time: 22 s 563 ms, fetching time: 736 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:25:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459388] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:25:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459388] results received
-- 2020-02-12 11:25:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459388] finished - execution time: 112 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:25:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459389] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 4923203

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:25:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459389] results received
-- 2020-02-12 11:25:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459389] finished - execution time: 85 ms, fetching time: 48 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:25:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459390] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:25:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459390] results received
-- 2020-02-12 11:25:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459390] finished - execution time: 66 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:25:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459391] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:26:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459391] results received
-- 2020-02-12 11:26:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459391] finished - execution time: 23 s 199 ms, fetching time: 816 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:29:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459392] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:29:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459392] results received
-- 2020-02-12 11:29:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459392] finished - execution time: 58 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:29:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459393] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
   and total_files_on_order <> (duplicate_files_on_order * unique_custom_type_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:29:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459393] results received
-- 2020-02-12 11:29:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459393] finished - execution time: 23 s 688 ms, fetching time: 681 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:30:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459394] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:30:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459394] results received
-- 2020-02-12 11:30:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459394] finished - execution time: 45 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:30:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459395] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * unique_width_count)
-- ] --------------------------------------------------
-- 2020-02-12 11:30:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459395] results received
-- 2020-02-12 11:30:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459395] finished - execution time: 23 s 850 ms, fetching time: 699 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:30:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459396] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:30:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459396] results received
-- 2020-02-12 11:30:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459396] finished - execution time: 54 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:30:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459397] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5170051
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
-- ] --------------------------------------------------
-- 2020-02-12 11:30:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459397] results received
-- 2020-02-12 11:30:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459397] finished - execution time: 24 s 269 ms, fetching time: 79 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:31:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459398] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459398] results received
-- 2020-02-12 11:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459398] finished - execution time: 55 ms, fetching time: 26 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459399] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5181123

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459399] results received
-- 2020-02-12 11:31:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459399] finished - execution time: 203 ms, fetching time: 57 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:33:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459400] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:33:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459400] results received
-- 2020-02-12 11:33:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459400] finished - execution time: 104 ms, fetching time: 182 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:33:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459401] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
-- ] --------------------------------------------------
-- 2020-02-12 11:33:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459401] results received
-- 2020-02-12 11:33:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459401] finished - execution time: 150 ms, fetching time: 96 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:33:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459402] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:33:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459402] results received
-- 2020-02-12 11:33:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459402] finished - execution time: 164 ms, fetching time: 72 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:33:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459403] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5181123

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:33:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459403] results received
-- 2020-02-12 11:33:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459403] finished - execution time: 187 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:35:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459404] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:35:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459404] results received
-- 2020-02-12 11:35:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459404] finished - execution time: 47 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:35:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459405] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

  and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
-- ] --------------------------------------------------
-- 2020-02-12 11:35:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459405] results received
-- 2020-02-12 11:35:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459405] finished - execution time: 79 ms, fetching time: 70 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:37:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459406] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:37:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459406] results received
-- 2020-02-12 11:37:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459406] finished - execution time: 54 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:37:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459407] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
-- ] --------------------------------------------------
-- 2020-02-12 11:37:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459407] results received
-- 2020-02-12 11:37:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459407] finished - execution time: 23 s 951 ms, fetching time: 674 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:39:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459408] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:39:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459408] results received
-- 2020-02-12 11:39:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459408] finished - execution time: 70 ms, fetching time: 45 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:39:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459409] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
-- ] --------------------------------------------------
-- 2020-02-12 11:39:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459409] results received
-- 2020-02-12 11:39:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459409] finished - execution time: 23 s 187 ms, fetching time: 672 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:39:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459410] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:39:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459410] results received
-- 2020-02-12 11:39:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459410] finished - execution time: 70 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:39:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459411] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
#    and total_files_on_order > file_types_count
#    and unique_widths > unique_types

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 11:40:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459411] results received
-- 2020-02-12 11:40:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459411] finished - execution time: 23 s 556 ms, fetching time: 104 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:45:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459412] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:45:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459412] results received
-- 2020-02-12 11:45:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459412] finished - execution time: 59 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:45:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459413] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 5026520

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:45:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459413] results received
-- 2020-02-12 11:45:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459413] finished - execution time: 91 ms, fetching time: 58 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:49:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459414] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:49:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459414] results received
-- 2020-02-12 11:49:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459414] finished - execution time: 95 ms, fetching time: 63 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:49:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459415] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    count(distinct cf.file_type) as file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    count(c.customisation_width) as width_count,
    count(distinct c.customisation_width) unique_width_count,
    count(oc.custom_type) custom_type_count,
    count(distinct oc.custom_type) unique_custom_type_count

FROM customisation_files_perceptual_hashes as cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
#    and total_files_on_order > file_types_count
#    and unique_widths > unique_types

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 11:49:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459415] results received
-- 2020-02-12 11:49:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459415] finished - execution time: 28 s 493 ms, fetching time: 573 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:50:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459416] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:50:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459416] results received
-- 2020-02-12 11:50:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459416] finished - execution time: 44 ms, fetching time: 90 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:50:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459417] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id
#     oc.custom_type
#     cf.file_type
       #, c.customisation_width, cf.file_type

HAVING total_files_on_order > unique_files_on_order
   and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))
#    and total_files_on_order > file_types_count
#    and unique_widths > unique_types

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 11:50:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459417] results received
-- 2020-02-12 11:50:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459417] finished - execution time: 23 s 264 ms, fetching time: 411 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:51:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459418] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:51:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459418] results received
-- 2020-02-12 11:51:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459418] finished - execution time: 54 ms, fetching time: 93 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:51:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459419] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 4805412

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 11:51:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459419] results received
-- 2020-02-12 11:51:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459419] finished - execution time: 110 ms, fetching time: 55 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:53:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459420] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 11:53:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459420] results received
-- 2020-02-12 11:53:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459420] finished - execution time: 53 ms, fetching time: 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 11:53:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459421] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 11:53:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459421] results received
-- 2020-02-12 11:53:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459421] finished - execution time: 22 s 979 ms, fetching time: 482 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:41:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459422] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:41:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459422] results received
-- 2020-02-12 12:41:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459422] finished - execution time: 66 ms, fetching time: 55 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:41:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459423] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:42:09 [default] [Production RDS-RO] [session id: 232755711] disconnected
-- 2020-02-12 12:42:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459423] results received
-- 2020-02-12 12:42:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755711] [statement id: 19459423] finished - execution time: 13 s 436 ms, fetching time: 3 ms, total result sets count: 1
-- 2020-02-12 12:42:15 [default] [Production RDS-RO] [session id: 232755713] connected
-- 2020-02-12 12:42:15 [default] [Production RDS-RO] [session id: 232755713] disconnected
-- 2020-02-12 12:42:21 [default] [Production RDS-RO] [session id: 232755714] connected
-- [ --------------------------------------------------
-- 2020-02-12 12:42:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459424] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-12 12:42:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459424] finished - execution time: 271 ms
-- [ --------------------------------------------------
-- 2020-02-12 12:42:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459425] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:42:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459425] results received
-- 2020-02-12 12:42:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459425] finished - execution time: 150 ms, fetching time: 151 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:42:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459426] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:42:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459426] results received
-- 2020-02-12 12:42:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459426] finished - execution time: 25 s 232 ms, fetching time: 208 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:46:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459427] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:46:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459427] results received
-- 2020-02-12 12:46:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459427] finished - execution time: 143 ms, fetching time: 116 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:46:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459428] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 4588941

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 12:46:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459428] results received
-- 2020-02-12 12:46:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459428] finished - execution time: 296 ms, fetching time: 165 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:46:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459429] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:46:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459429] results received
-- 2020-02-12 12:46:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459429] finished - execution time: 263 ms, fetching time: 136 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:46:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459430] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:47:00 [default] [Production RDS-RO] [session id: 232755714] disconnected
-- 2020-02-12 12:47:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459430] results received
-- 2020-02-12 12:47:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755714] [statement id: 19459430] finished - execution time: 15 s 567 ms, fetching time: 43 ms, total result sets count: 1
-- 2020-02-12 12:47:04 [default] [Production RDS-RO] [session id: 232755715] connected
-- [ --------------------------------------------------
-- 2020-02-12 12:47:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459431] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-12 12:47:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459431] finished - execution time: 207 ms
-- [ --------------------------------------------------
-- 2020-02-12 12:47:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459432] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:47:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459432] results received
-- 2020-02-12 12:47:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459432] finished - execution time: 172 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:47:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459433] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:47:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459433] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 15
-- 2020-02-12 12:47:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459433] finished - execution time: 322 ms
-- 2020-02-12 12:47:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 15
-- 2020-02-12 12:47:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 15
-- [ --------------------------------------------------
-- 2020-02-12 12:47:12 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459434] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:47:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459434] results received
-- 2020-02-12 12:47:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459434] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 15
-- 2020-02-12 12:47:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459434] finished - execution time: 300 ms, fetching time: 68 ms, total result sets count: 1
-- 2020-02-12 12:47:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 15
-- [ --------------------------------------------------
-- 2020-02-12 12:47:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459435] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:47:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459435] results received
-- 2020-02-12 12:47:36 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459435] finished - execution time: 23 s 235 ms, fetching time: 547 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:49:31 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459436] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:49:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459436] results received
-- 2020-02-12 12:49:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459436] finished - execution time: 224 ms, fetching time: 145 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:49:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459437] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''

#   and cf.file_type > 1

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 12:49:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459437] results received
-- 2020-02-12 12:49:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459437] finished - execution time: 348 ms, fetching time: 156 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:50:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459438] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:50:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459438] results received
-- 2020-02-12 12:50:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459438] finished - execution time: 262 ms, fetching time: 190 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:50:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459439] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 5181123
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:50:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459439] results received
-- 2020-02-12 12:50:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459439] finished - execution time: 23 s 412 ms, fetching time: 447 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:51:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459440] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:51:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459440] results received
-- 2020-02-12 12:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459440] finished - execution time: 213 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459441] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459441] results received
-- 2020-02-12 12:51:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459441] finished - execution time: 376 ms, fetching time: 102 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:51:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459442] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:51:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459442] results received
-- 2020-02-12 12:51:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459442] finished - execution time: 430 ms, fetching time: 229 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:51:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459443] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459443] results received
-- 2020-02-12 12:51:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459443] finished - execution time: 552 ms, fetching time: 106 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:52:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459444] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:52:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459444] results received
-- 2020-02-12 12:52:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459444] finished - execution time: 101 ms, fetching time: 143 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:52:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459445] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY #o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:52:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459445] results received
-- 2020-02-12 12:52:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459445] finished - execution time: 338 ms, fetching time: 230 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:52:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459446] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:52:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459446] results received
-- 2020-02-12 12:52:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459446] finished - execution time: 214 ms, fetching time: 56 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:52:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459447] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY #o.orders_id,
               oc.custom_type,
               #c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:52:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459447] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order\n#    and width_count > (file' at line 33
-- 2020-02-12 12:52:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459447] finished - execution time: 261 ms
-- 2020-02-12 12:52:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order\n#    and width_count > (file' at line 33
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order\n#    and width_count > (file' at line 33
-- [ --------------------------------------------------
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459448] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459448] results received
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459448] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order\n#    and width_count > (file' at line 33
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459448] finished - execution time: 178 ms, fetching time: 59 ms, total result sets count: 1
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'HAVING total_files_on_order > unique_files_on_order\n#    and width_count > (file' at line 33
-- [ --------------------------------------------------
-- 2020-02-12 12:52:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459449] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY #o.orders_id,
               oc.custom_type
               #c.customisation_width

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 12:52:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459449] results received
-- 2020-02-12 12:52:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459449] finished - execution time: 367 ms, fetching time: 173 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:52:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459450] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:52:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459450] results received
-- 2020-02-12 12:52:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459450] finished - execution time: 90 ms, fetching time: 132 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:52:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459451] 
SELECT
#     o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY #o.orders_id,
               oc.custom_type
               #c.customisation_width

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 12:52:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459451] results received
-- 2020-02-12 12:52:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459451] finished - execution time: 311 ms, fetching time: 188 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:53:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459452] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 12:53:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459452] results received
-- 2020-02-12 12:53:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459452] finished - execution time: 119 ms, fetching time: 59 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 12:53:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459453] 
SELECT
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 12:53:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459453] results received
-- 2020-02-12 12:53:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459453] finished - execution time: 217 ms, fetching time: 159 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459454] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459454] results received
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459454] finished - execution time: 48 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459455] 
SELECT
   DISTINCT(select oc.custom_type, c.customisation_width),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459455] error - [21000][1241] Operand should contain 1 column(s)
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459455] finished - execution time: 98 ms
-- 2020-02-12 13:02:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [21000][1241] Operand should contain 1 column(s)
-- 2020-02-12 13:02:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [21000][1241] Operand should contain 1 column(s)
-- [ --------------------------------------------------
-- 2020-02-12 13:02:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459456] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459456] results received
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459456] warning - [21000][1241] Operand should contain 1 column(s)
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459456] finished - execution time: 278 ms, fetching time: 81 ms, total result sets count: 1
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [21000][1241] Operand should contain 1 column(s)
-- [ --------------------------------------------------
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459457] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459457] results received
-- 2020-02-12 13:02:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459457] finished - execution time: 209 ms, fetching time: 227 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:02:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459458] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:02:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459458] results received
-- 2020-02-12 13:02:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459458] finished - execution time: 233 ms, fetching time: 175 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:02:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459459] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:02:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459459] results received
-- 2020-02-12 13:02:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459459] finished - execution time: 261 ms, fetching time: 99 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:03:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459460] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:03:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459460] results received
-- 2020-02-12 13:03:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459460] finished - execution time: 84 ms, fetching time: 47 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:03:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459461] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
#     o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:03:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459461] results received
-- 2020-02-12 13:03:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459461] finished - execution time: 248 ms, fetching time: 76 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:03:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459462] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:03:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459462] results received
-- 2020-02-12 13:03:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459462] finished - execution time: 80 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:03:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459463] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:03:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459463] results received
-- 2020-02-12 13:03:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459463] finished - execution time: 296 ms, fetching time: 197 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:03:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459464] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:03:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459464] results received
-- 2020-02-12 13:03:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459464] finished - execution time: 102 ms, fetching time: 47 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:03:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459465] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
#     o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:03:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459465] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:03:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459465] finished - execution time: 295 ms
-- 2020-02-12 13:03:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- [ --------------------------------------------------
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459466] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459466] results received
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459466] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459466] finished - execution time: 156 ms, fetching time: 44 ms, total result sets count: 1
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- [ --------------------------------------------------
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459467] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width))
#     o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459467] results received
-- 2020-02-12 13:03:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459467] finished - execution time: 178 ms, fetching time: 131 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459468] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:04:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459468] results received
-- 2020-02-12 13:04:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459468] finished - execution time: 86 ms, fetching time: 136 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459469] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:04:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459469] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:04:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459469] finished - execution time: 146 ms
-- 2020-02-12 13:04:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- [ --------------------------------------------------
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459470] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459470] results received
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459470] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459470] finished - execution time: 75 ms, fetching time: 54 ms, total result sets count: 1
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- [ --------------------------------------------------
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459471] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459471] results received
-- 2020-02-12 13:04:13 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459471] finished - execution time: 179 ms, fetching time: 78 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:28 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459472] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:04:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459472] results received
-- 2020-02-12 13:04:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459472] finished - execution time: 84 ms, fetching time: 51 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459473] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:04:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459473] results received
-- 2020-02-12 13:04:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459473] finished - execution time: 272 ms, fetching time: 85 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459474] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:04:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459474] results received
-- 2020-02-12 13:04:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459474] finished - execution time: 114 ms, fetching time: 94 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459475] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:04:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459475] results received
-- 2020-02-12 13:04:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459475] finished - execution time: 96 ms, fetching time: 119 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459476] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:04:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459476] results received
-- 2020-02-12 13:04:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459476] finished - execution time: 54 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:04:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459477] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:04:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459477] results received
-- 2020-02-12 13:04:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459477] finished - execution time: 160 ms, fetching time: 123 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:05:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459478] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:05:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459478] results received
-- 2020-02-12 13:05:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459478] finished - execution time: 101 ms, fetching time: 48 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:05:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459479] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:05:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459479] results received
-- 2020-02-12 13:05:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459479] finished - execution time: 212 ms, fetching time: 89 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:05:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459480] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:05:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459480] results received
-- 2020-02-12 13:05:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459480] finished - execution time: 80 ms, fetching time: 138 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:05:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459481] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:05:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459481] results received
-- 2020-02-12 13:05:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459481] finished - execution time: 219 ms, fetching time: 85 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459482] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459482] results received
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459482] finished - execution time: 85 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459483] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459483] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459483] finished - execution time: 177 ms
-- 2020-02-12 13:05:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:05:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- [ --------------------------------------------------
-- 2020-02-12 13:05:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459484] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:05:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459484] results received
-- 2020-02-12 13:05:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459484] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- 2020-02-12 13:05:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459484] finished - execution time: 100 ms, fetching time: 57 ms, total result sets count: 1
-- 2020-02-12 13:05:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 16
-- [ --------------------------------------------------
-- 2020-02-12 13:05:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459485] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)),
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

# GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:05:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459485] results received
-- 2020-02-12 13:05:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459485] finished - execution time: 236 ms, fetching time: 109 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459486] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459486] results received
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459486] finished - execution time: 50 ms, fetching time: 86 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459487] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as "unique",
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY o.customers_id, o.customers_name, o.customers_email_address,
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

# HAVING total_files_on_order > unique_files_on_order
#    and width_count > (file_type_count * (unique_width_count * unique_custom_type_count))

order by "unique"
-- ] --------------------------------------------------
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459487] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order by "unique"' at line 38
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459487] finished - execution time: 95 ms
-- 2020-02-12 13:06:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order by "unique"' at line 38
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order by "unique"' at line 38
-- [ --------------------------------------------------
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459488] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459488] results received
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459488] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order by "unique"' at line 38
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459488] finished - execution time: 54 ms, fetching time: 27 ms, total result sets count: 1
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order by "unique"' at line 38
-- [ --------------------------------------------------
-- 2020-02-12 13:06:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459489] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as "unique",
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY "unique"
-- ] --------------------------------------------------
-- 2020-02-12 13:06:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459489] results received
-- 2020-02-12 13:06:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459489] finished - execution time: 141 ms, fetching time: 49 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:06:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459490] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:06:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459490] results received
-- 2020-02-12 13:06:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459490] finished - execution time: 45 ms, fetching time: 25 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:06:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459491] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as "unique",
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
-- ] --------------------------------------------------
-- 2020-02-12 13:06:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459491] results received
-- 2020-02-12 13:06:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459491] finished - execution time: 132 ms, fetching time: 49 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:08:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459492] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:08:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459492] results received
-- 2020-02-12 13:08:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459492] finished - execution time: 94 ms, fetching time: 50 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:08:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459493] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as "unique",
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045

GROUP BY "unique"
-- ] --------------------------------------------------
-- 2020-02-12 13:08:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459493] results received
-- 2020-02-12 13:08:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459493] finished - execution time: 159 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:11:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459494] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:11:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459494] results received
-- 2020-02-12 13:11:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459494] finished - execution time: 105 ms, fetching time: 160 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:11:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459495] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:11:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459495] results received
-- 2020-02-12 13:11:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459495] finished - execution time: 212 ms, fetching time: 100 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:12:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459496] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:12:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459496] results received
-- 2020-02-12 13:12:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459496] finished - execution time: 96 ms, fetching time: 156 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:12:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459497] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
#     COUNT(distinct cf.file_type) AS file_type_count,
#     COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
#     COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:12:14 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459497] results received
-- 2020-02-12 13:12:15 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459497] finished - execution time: 190 ms, fetching time: 58 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459498] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459498] results received
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459498] finished - execution time: 52 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459499] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459499] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COUNT(distinct cf.file_type) AS file_type_count,\n    COUNT(cf.perceptual_hash) A' at line 7
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459499] finished - execution time: 86 ms
-- 2020-02-12 13:12:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COUNT(distinct cf.file_type) AS file_type_count,\n    COUNT(cf.perceptual_hash) A' at line 7
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COUNT(distinct cf.file_type) AS file_type_count,\n    COUNT(cf.perceptual_hash) A' at line 7
-- [ --------------------------------------------------
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459500] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459500] results received
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459500] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COUNT(distinct cf.file_type) AS file_type_count,\n    COUNT(cf.perceptual_hash) A' at line 7
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459500] finished - execution time: 48 ms, fetching time: 26 ms, total result sets count: 1
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'COUNT(distinct cf.file_type) AS file_type_count,\n    COUNT(cf.perceptual_hash) A' at line 7
-- [ --------------------------------------------------
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459501] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
# 	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
# 	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order
#     COUNT(c.customisation_width) AS width_count,
#     COUNT(distinct c.customisation_width) AS unique_width_count,
#     COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459501] results received
-- 2020-02-12 13:12:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459501] finished - execution time: 141 ms, fetching time: 68 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:12:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459502] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:12:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459502] results received
-- 2020-02-12 13:12:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459502] finished - execution time: 61 ms, fetching time: 112 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:12:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459503] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:12:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459503] results received
-- 2020-02-12 13:12:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459503] finished - execution time: 172 ms, fetching time: 69 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:13:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459504] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:13:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459504] results received
-- 2020-02-12 13:13:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459504] finished - execution time: 149 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:13:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459505] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width, o.orders_id)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:13:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459505] results received
-- 2020-02-12 13:13:21 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459505] finished - execution time: 185 ms, fetching time: 66 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459506] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459506] results received
-- 2020-02-12 13:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459506] finished - execution time: 133 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459507] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:13:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459507] results received
-- 2020-02-12 13:13:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459507] finished - execution time: 188 ms, fetching time: 98 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:14:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459508] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:14:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459508] results received
-- 2020-02-12 13:14:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459508] finished - execution time: 57 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:14:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459509] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
#     o.orders_id,
#                oc.custom_type,
#                c.customisation_width

HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 13:14:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459509] results received
-- 2020-02-12 13:14:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459509] finished - execution time: 217 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:14:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459510] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:14:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459510] results received
-- 2020-02-12 13:14:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459510] finished - execution time: 169 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:14:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459511] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:14:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459511] results received
-- 2020-02-12 13:14:24 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459511] finished - execution time: 168 ms, fetching time: 74 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:17:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459512] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:17:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459512] results received
-- 2020-02-12 13:17:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459512] finished - execution time: 49 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:17:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459513] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`
HAVING total_files_on_order > unique_files_on_order
-- ] --------------------------------------------------
-- 2020-02-12 13:17:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459513] results received
-- 2020-02-12 13:17:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459513] finished - execution time: 139 ms, fetching time: 66 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:18:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459514] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:18:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459514] results received
-- 2020-02-12 13:18:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459514] finished - execution time: 49 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:18:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459515] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
# HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:18:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459515] results received
-- 2020-02-12 13:18:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459515] finished - execution time: 84 ms, fetching time: 58 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:18:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459516] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:18:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459516] results received
-- 2020-02-12 13:18:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459516] finished - execution time: 59 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:18:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459517] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
  and c.customisation_width = '30'

#   and cf.file_type > 1

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:18:42 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459517] results received
-- 2020-02-12 13:18:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459517] finished - execution time: 141 ms, fetching time: 122 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:18:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459518] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:18:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459518] results received
-- 2020-02-12 13:18:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459518] finished - execution time: 49 ms, fetching time: 87 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:18:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459519] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
  and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4735045

  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:18:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459519] results received
-- 2020-02-12 13:18:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459519] finished - execution time: 136 ms, fetching time: 59 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:19:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459520] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:19:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459520] results received
-- 2020-02-12 13:19:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459520] finished - execution time: 51 ms, fetching time: 93 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:19:38 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459521] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
# HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459521] results received
-- 2020-02-12 13:20:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459521] finished - execution time: 26 s 633 ms, fetching time: 496 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:20:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459522] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:20:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459522] results received
-- 2020-02-12 13:20:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459522] finished - execution time: 48 ms, fetching time: 33 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:20:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459523] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
    COUNT(c.customisation_width) AS width_count,
    COUNT(distinct c.customisation_width) AS unique_width_count,
    COUNT(oc.custom_type) AS custom_type_count,
    COUNT(distinct oc.custom_type) AS unique_custom_type_count

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:20:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459523] results received
-- 2020-02-12 13:20:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459523] finished - execution time: 24 s 729 ms, fetching time: 509 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:20:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459524] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:20:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459524] results received
-- 2020-02-12 13:20:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459524] finished - execution time: 60 ms, fetching time: 31 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:20:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459525] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459525] results received
-- 2020-02-12 13:21:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459525] finished - execution time: 23 s 257 ms, fetching time: 299 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:22:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459526] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:22:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459526] results received
-- 2020-02-12 13:22:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459526] finished - execution time: 50 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:22:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459527] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
  and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4105854
# and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:22:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459527] results received
-- 2020-02-12 13:22:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459527] finished - execution time: 163 ms, fetching time: 60 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:23:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459528] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:23:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459528] results received
-- 2020-02-12 13:23:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459528] finished - execution time: 60 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:23:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459529] 
SELECT
   DISTINCT(concat(oc.custom_type, c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

  and o.orders_id = 4105854

GROUP BY `unique`
-- ] --------------------------------------------------
-- 2020-02-12 13:23:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459529] results received
-- 2020-02-12 13:23:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459529] finished - execution time: 77 ms, fetching time: 129 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459530] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459530] results received
-- 2020-02-12 13:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459530] finished - execution time: 48 ms, fetching time: 29 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:23:17 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459531] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:23:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459531] results received
-- 2020-02-12 13:23:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459531] finished - execution time: 23 s 426 ms, fetching time: 300 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:23:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459532] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:23:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459532] results received
-- 2020-02-12 13:23:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459532] finished - execution time: 44 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:23:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459533] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4105854
# and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:23:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459533] results received
-- 2020-02-12 13:23:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459533] finished - execution time: 80 ms, fetching time: 54 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:24:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459534] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:24:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459534] results received
-- 2020-02-12 13:24:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459534] finished - execution time: 75 ms, fetching time: 27 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:24:00 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459535] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:24:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459535] results received
-- 2020-02-12 13:24:23 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459535] finished - execution time: 23 s 81 ms, fetching time: 514 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459536] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459536] results received
-- 2020-02-12 13:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459536] finished - execution time: 78 ms, fetching time: 137 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459537] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459537] results received
-- 2020-02-12 13:24:43 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459537] finished - execution time: 137 ms, fetching time: 82 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:24:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459538] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:24:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459538] results received
-- 2020-02-12 13:24:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459538] finished - execution time: 53 ms, fetching time: 126 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:24:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459539] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4105854
# and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:24:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459539] results received
-- 2020-02-12 13:24:53 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459539] finished - execution time: 248 ms, fetching time: 110 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:25:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459540] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:25:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459540] results received
-- 2020-02-12 13:25:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459540] finished - execution time: 101 ms, fetching time: 159 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:25:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459541] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
#   and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4105854
# and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:25:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459541] results received
-- 2020-02-12 13:25:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459541] finished - execution time: 179 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:25:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459542] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:25:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459542] results received
-- 2020-02-12 13:25:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459542] finished - execution time: 95 ms, fetching time: 130 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:25:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459543] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
#   and o.customers_id > 0
#   and o.staff_name = ''
#   and o.payment_method <> 'replacement'
#   and oc.customisation_id > 0
#   and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4105854
# and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:25:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459543] results received
-- 2020-02-12 13:25:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459543] finished - execution time: 197 ms, fetching time: 67 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:25:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459544] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:25:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459544] results received
-- 2020-02-12 13:25:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459544] finished - execution time: 78 ms, fetching time: 95 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:25:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459545] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4735045


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:25:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459545] results received
-- 2020-02-12 13:25:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459545] finished - execution time: 136 ms, fetching time: 52 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:26:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459546] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:26:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459546] results received
-- 2020-02-12 13:26:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459546] finished - execution time: 117 ms, fetching time: 65 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:26:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459547] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:26:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459547] results received
-- 2020-02-12 13:26:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755715] [statement id: 19459547] finished - execution time: 5 s 602 ms, fetching time: 10 ms, total result sets count: 1
-- 2020-02-12 13:27:28 [default] [Production RDS-RO] [session id: 232755715] disconnected
-- 2020-02-12 13:27:28 [default] [Production RDS-RO] [session id: 232755716] connected
-- [ --------------------------------------------------
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459548] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459548] finished - execution time: 54 ms
-- [ --------------------------------------------------
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459549] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459549] results received
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459549] finished - execution time: 43 ms, fetching time: 46 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459550] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 4691691


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459550] results received
-- 2020-02-12 13:27:29 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459550] finished - execution time: 180 ms, fetching time: 82 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:29:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459551] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:29:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459551] results received
-- 2020-02-12 13:29:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459551] finished - execution time: 194 ms, fetching time: 74 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:29:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459552] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
	((COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) / COUNT(distinct cf.file_type)) AS actual_duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:30:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459552] results received
-- 2020-02-12 13:30:16 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459552] finished - execution time: 24 s 682 ms, fetching time: 451 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:30:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459553] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:30:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459553] results received
-- 2020-02-12 13:30:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459553] finished - execution time: 103 ms, fetching time: 69 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:30:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459554] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,
	((COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) / COUNT(distinct cf.file_type)) AS actual_duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
  and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:30:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459554] results received
-- 2020-02-12 13:30:54 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459554] finished - execution time: 16 s 814 ms, fetching time: 535 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459555] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459555] results received
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459555] finished - execution time: 91 ms, fetching time: 69 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459556] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order,

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459556] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 12
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459556] finished - execution time: 146 ms
-- 2020-02-12 13:31:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 12
-- 2020-02-12 13:31:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 12
-- [ --------------------------------------------------
-- 2020-02-12 13:31:10 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459557] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:31:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459557] results received
-- 2020-02-12 13:31:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459557] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 12
-- 2020-02-12 13:31:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459557] finished - execution time: 203 ms, fetching time: 83 ms, total result sets count: 1
-- 2020-02-12 13:31:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'FROM customisation_files_perceptual_hashes AS cf\nLEFT JOIN orders_customisations' at line 12
-- [ --------------------------------------------------
-- 2020-02-12 13:31:11 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459558] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

#   and o.orders_id = 4735045
#   and cf.file_type > 1

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:31:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459558] results received
-- 2020-02-12 13:31:35 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459558] finished - execution time: 23 s 329 ms, fetching time: 555 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:31:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459559] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:31:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459559] results received
-- 2020-02-12 13:31:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459559] finished - execution time: 126 ms, fetching time: 62 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:31:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459560] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 5174233


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:31:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459560] results received
-- 2020-02-12 13:31:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459560] finished - execution time: 228 ms, fetching time: 45 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:33:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459561] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:33:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459561] results received
-- 2020-02-12 13:33:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459561] finished - execution time: 69 ms, fetching time: 144 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:33:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459562] 
select cf.id, cf.file_type, cf.perceptual_hash,
    o.orders_id, o.orders_status, o.customers_name, o.customers_email_address,
    oc.custom_type, oc.application_count, oc.primary_type,
    c.customisation_width
from orders o
     join orders_customisations oc on oc.order_id = o.orders_id
     join customisations c on oc.customisation_id = c.customisation_id
     join customisation_files_perceptual_hashes cf on cf.customisation_id = oc.customisation_id
where o.mobile_order = 0
  and o.customers_id > 0
  and o.staff_name = ''
  and o.payment_method <> 'replacement'
  and oc.customisation_id > 0
  and cf.perceptual_hash > ''
#   and c.customisation_width = '10'

#   and cf.file_type > 1

and o.orders_id = 5174233
and oc.custom_type like "%storm%"
and c.customisation_width = "9"


  order by o.orders_id desc
-- ] --------------------------------------------------
-- 2020-02-12 13:33:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459562] results received
-- 2020-02-12 13:33:48 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459562] finished - execution time: 167 ms, fetching time: 97 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:45:01 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459563] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:45:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459563] results received
-- 2020-02-12 13:45:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459563] finished - execution time: 595 ms, fetching time: 260 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:45:02 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459564] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-12 13:45:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459564] results received
-- 2020-02-12 13:45:41 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459564] finished - execution time: 37 s 662 ms, fetching time: 523 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:54:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459565] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 13:54:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459565] results received
-- 2020-02-12 13:54:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459565] finished - execution time: 54 ms, fetching time: 30 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 13:54:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459566] 
select * from orders_status
-- ] --------------------------------------------------
-- 2020-02-12 13:54:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459566] results received
-- 2020-02-12 13:54:18 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459566] finished - execution time: 73 ms, fetching time: 44 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 14:26:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459567] 
select database()
-- ] --------------------------------------------------
-- 2020-02-12 14:26:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459567] results received
-- 2020-02-12 14:26:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459567] finished - execution time: 57 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-12 14:26:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459568] 
select * from orders
where orders_status = 0
-- ] --------------------------------------------------
-- 2020-02-12 14:26:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459568] results received
-- 2020-02-12 14:26:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 232755716] [statement id: 19459568] finished - execution time: 127 ms, fetching time: 120 ms, total result sets count: 1
-- 2020-02-12 16:00:08 [default] [Production RDS-WRITE] [session id: 232755712] disconnected
-- 2020-02-12 16:00:08 [default] [Production RDS-RO] [session id: 232755716] disconnected
-- 2020-02-13 06:35:48 [default] [Production RDS-RO] [session id: 1686679003] connected
-- [ --------------------------------------------------
-- 2020-02-13 06:35:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013967] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-13 06:35:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013967] finished - execution time: 167 ms
-- [ --------------------------------------------------
-- 2020-02-13 06:35:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013968] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:35:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013968] results received
-- 2020-02-13 06:35:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013968] finished - execution time: 127 ms, fetching time: 102 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:35:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013969] 
SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-13 06:36:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013969] results received
-- 2020-02-13 06:36:26 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013969] finished - execution time: 36 s 162 ms, fetching time: 464 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:37:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013970] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:37:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013970] results received
-- 2020-02-13 06:37:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013970] finished - execution time: 108 ms, fetching time: 96 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:37:33 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013971] 
select count(distinct orders_id) from (
    
    SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id
-- ] --------------------------------------------------
-- 2020-02-13 06:37:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013971] error - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 28
-- 2020-02-13 06:37:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013971] finished - execution time: 251 ms
-- 2020-02-13 06:37:34 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 28
-- 2020-02-13 06:37:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 28
-- [ --------------------------------------------------
-- 2020-02-13 06:37:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013972] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:37:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013972] results received
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013972] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 28
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013972] finished - execution time: 111 ms, fetching time: 28 ms, total result sets count: 1
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] warning - [42000][1064] You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' at line 28
-- [ --------------------------------------------------
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013973] 
select count(distinct orders_id) from (

    SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id

    ))
-- ] --------------------------------------------------
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013973] error - [42000][1248] Every derived table must have its own alias
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013973] finished - execution time: 193 ms
-- 2020-02-13 06:37:40 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] warning - [42000][1248] Every derived table must have its own alias
-- 2020-02-13 06:37:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] warning - [42000][1248] Every derived table must have its own alias
-- [ --------------------------------------------------
-- 2020-02-13 06:37:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013974] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:37:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013974] results received
-- 2020-02-13 06:37:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013974] warning - [42000][1248] Every derived table must have its own alias
-- 2020-02-13 06:37:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013974] finished - execution time: 163 ms, fetching time: 208 ms, total result sets count: 1
-- 2020-02-13 06:37:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] warning - [42000][1248] Every derived table must have its own alias
-- [ --------------------------------------------------
-- 2020-02-13 06:37:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013975] 
select count(distinct orders_id) from (

    SELECT
   DISTINCT(concat(o.orders_id, '-', oc.custom_type, '-', c.customisation_width)) as `unique`,
    o.customers_id, o.customers_name, o.customers_email_address,
    o.orders_id,
               oc.custom_type,
               c.customisation_width,
    COUNT(distinct cf.file_type) AS file_type_count,
    COUNT(cf.perceptual_hash) AS total_files_on_order,
	COUNT(DISTINCT cf.perceptual_hash) AS unique_files_on_order,
	(COUNT(cf.perceptual_hash) - COUNT(DISTINCT cf.perceptual_hash)) AS duplicate_files_on_order

FROM customisation_files_perceptual_hashes AS cf
LEFT JOIN orders_customisations oc ON oc.customisation_id = cf.customisation_id
LEFT JOIN customisations c on oc.customisation_id = c.customisation_id
LEFT JOIN orders o ON oc.order_id = o.orders_id
WHERE o.mobile_order = 0
  AND o.customers_id > 0
  AND o.staff_name = ''
  AND o.payment_method <> 'replacement'
  AND oc.customisation_id > 0
  AND cf.perceptual_hash > ''

GROUP BY `unique`, o.orders_id, o.customers_id
HAVING total_files_on_order > unique_files_on_order

order by o.customers_id, o.orders_id

    ) x
-- ] --------------------------------------------------
-- 2020-02-13 06:38:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013975] results received
-- 2020-02-13 06:38:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013975] finished - execution time: 23 s 255 ms, fetching time: 113 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:43:06 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013976] 
desc orders
-- ] --------------------------------------------------
-- 2020-02-13 06:43:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013976] results received
-- 2020-02-13 06:43:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013976] finished - execution time: 326 ms, fetching time: 157 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:43:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013977] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:43:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013977] results received
-- 2020-02-13 06:43:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013977] finished - execution time: 117 ms, fetching time: 35 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:43:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013978] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:43:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013978] results received
-- 2020-02-13 06:43:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013978] finished - execution time: 40 ms, fetching time: 73 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:43:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013979] 
select * from orders order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:43:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013979] results received
-- 2020-02-13 06:43:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013979] finished - execution time: 288 ms, fetching time: 529 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:44:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013980] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:44:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013980] results received
-- 2020-02-13 06:44:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013980] finished - execution time: 195 ms, fetching time: 119 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:44:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013981] 
select * from orders where date_purchased > '2019-01-01 00:00:00'

order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:44:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013981] results received
-- 2020-02-13 06:44:45 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013981] finished - execution time: 235 ms, fetching time: 386 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:44:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013982] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:44:50 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013982] results received
-- 2020-02-13 06:44:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013982] finished - execution time: 169 ms, fetching time: 114 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:44:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013983] 
select count(*) from orders where date_purchased > '2019-01-01 00:00:00'

order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:44:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013983] results received
-- 2020-02-13 06:44:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013983] finished - execution time: 148 ms, fetching time: 140 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:44:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013984] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:44:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013984] results received
-- 2020-02-13 06:44:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013984] finished - execution time: 77 ms, fetching time: 40 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:44:57 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013985] 
select * from orders where date_purchased > '2019-01-01 00:00:00'

order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:44:58 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013985] results received
-- 2020-02-13 06:44:59 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013985] finished - execution time: 305 ms, fetching time: 930 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:46:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013986] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:46:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013986] results received
-- 2020-02-13 06:46:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013986] finished - execution time: 163 ms, fetching time: 99 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:46:49 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013987] 
select cf.* from orders o
join orders_customisations oc on oc.order_id = o.orders_id
join customisation_files cf on oc.customisation_id = cf.customisation_id
where date_purchased > '2019-01-01 00:00:00'
order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:48:36 [default] [Production RDS-RO] [session id: 1686679003] disconnected
-- 2020-02-13 06:48:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013987] results received
-- 2020-02-13 06:48:37 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679003] [statement id: 1433013987] finished - execution time: 1 m 47 s 340 ms, fetching time: 4 ms, total result sets count: 1
-- 2020-02-13 06:48:46 [default] [Production RDS-RO] [session id: 1686679004] connected
-- [ --------------------------------------------------
-- 2020-02-13 06:48:46 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013988] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013988] finished - execution time: 194 ms
-- [ --------------------------------------------------
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013989] 
show full processlist
-- ] --------------------------------------------------
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013989] results received
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013989] finished - execution time: 176 ms, fetching time: 174 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013990] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013990] results received
-- 2020-02-13 06:48:47 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013990] finished - execution time: 91 ms, fetching time: 96 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:49:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013991] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:49:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013991] results received
-- 2020-02-13 06:49:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013991] finished - execution time: 105 ms, fetching time: 92 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:49:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013992] 
select * from customisation_files limit 10
-- ] --------------------------------------------------
-- 2020-02-13 06:49:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013992] results received
-- 2020-02-13 06:49:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013992] finished - execution time: 268 ms, fetching time: 159 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:49:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013993] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:49:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013993] results received
-- 2020-02-13 06:49:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013993] finished - execution time: 173 ms, fetching time: 114 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:49:51 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013994] 
select oc.customisation_id from orders o
join orders_customisations oc on oc.order_id = o.orders_id
where o.date_purchased > '2019-01-01 00:00:00'
order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:49:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013994] results received
-- 2020-02-13 06:49:52 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013994] finished - execution time: 342 ms, fetching time: 140 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:49:55 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013995] 
select COUNT(*) from orders o
join orders_customisations oc on oc.order_id = o.orders_id
where o.date_purchased > '2019-01-01 00:00:00'

-- ] --------------------------------------------------
-- 2020-02-13 06:49:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013995] results received
-- 2020-02-13 06:49:56 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013995] finished - execution time: 747 ms, fetching time: 74 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:50:07 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013996] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:50:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013996] results received
-- 2020-02-13 06:50:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013996] finished - execution time: 50 ms, fetching time: 91 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:50:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013997] 
select oc.customisation_id from orders o
join orders_customisations oc on oc.order_id = o.orders_id
where o.date_purchased > '2019-01-01 00:00:00'
order by orders_id desc
-- ] --------------------------------------------------
-- 2020-02-13 06:50:08 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013997] results received
-- 2020-02-13 06:50:09 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013997] finished - execution time: 263 ms, fetching time: 1 s 341 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:54:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013998] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:54:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013998] results received
-- 2020-02-13 06:54:19 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013998] finished - execution time: 27 ms, fetching time: 196 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:54:20 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013999] 
select * from customisation_files where customisation_id in
(3774591,3774590,3774579,3774559,3774566,3139599,3774559,3774560,3774561,3139599,3774559,3139599,3774559,3774493,3774558,3361796,3361798,3774493,3774540,3774505,3774541,3774425,3774450,3774456,3774462,3617491,2715176,3770762,3772741,3774484,3774352,3774420,3774440,3774440,3774398,3774404,3774414,3774398,3774404,3774414,3774410,3774333,3774408,817458,817458,3265500,3774234,3774318,3774338,3774351,3774353,3572458,3719600,2878202,2878202,3774317,3774319,3774330,3774279,3774273,3774271,3774282,3774293,3774299,3745761,3148946,3139705,3774264,3774267,3774251,3774240,2772977,3517224,3139871,3192850,3139705,3774161,3529944,3529948,3774189,3758846,3758847,3774032,3774062,3774159,3774163,965499,965502,3774034,3774048,3773945,3773945,3772120,3774098,3774099,3277013,3774037,3774045,3774083,3774086,3774088,3774092,3774066,1936057,1936059,3774063,3771575,1001783,3774054,3774034,3774048,3648514,3139860,3139705,3773804,3774008,3773804,3774008,3773990,3773961,2853709,3620163,3620166,2208714,3773924,3395801,3395801,3773922,3773897,3773896,3773883,3518973,3518976,3269972,3269988,3773634,816596,3765796,3765799,3773767,3773805,816596,3555841,3773767,3773805,3773767,3773805,3773767,3773805,2887554,3773837,3741950,3732291,3725169,3750359,3773832,3769767,3773770,3773818,3773824,3773813,3773816,3773815,3773767,3773805,3773807,1632913,2180778,2180782,3773704,3773724,3303198,3762828,312760,3771433,3144127,3139705,3773695,3773700,1920198,3773645,3773717,3773703,3731907,3773684,3572294,3259423,3139705,3730031,3045840,2251922,3105917,3105924,3773680,3773569,3773573,3731907,3770233,3772906,3772909,3266854,3773663,3773624,3773627,3773639,3209671,3139705,3773651,3188447,3773447,3773485,3773607,3773630,3769478,3771602,3773138,3773298,3773641,3773644,1849532,3269972,3269988,3773634,3773622,3773625,3773610,3771660,3773610,3773610,3773613,2942612,3773596,3170510,3773528,3569248,3139705,3773583,3773590,3773591,3411546,385631,2034895,3765473,3773575,3773579,3773429,3733431,3773564,3773565,3773535,3773539,3773528,3773472,2664814,2798236,3773460,3457999,3459304,3510323,3506147,3773315,3773323,3773498,3773494,2927454,2930191,818981,3773480,3773481,1849896,3757523,3717642,3761411,3773395,3773446,3610589,3612330,3773368,3773375,3657196,3773414,3773418,3773426,3773293,3773428,3657196,3752203,3758804,3773525,3773393,3773399,2371332,3773408,3773401,3772853,3772857,2371332,2957009,3708094,1623866,3773354,1545962,2785985,3773368,3773375,2538259,3773274,3759268,3773356,3773342,3773295,3755141,3755180,3755206,3565917,3773327,3530087,3773342,3773326,3773332,3773343,3759268,3759276,3755141,3755186,3755206,3755141,3755153,3755206,3686036,3757193,3772728,3772733,3772745,3773302,2425278,3063145,2205723,3773275,3773276,2538259,3772994,3773002,3764809,3761132,3773157,3773174,3773190,3773233,3773180,3773223,3773243,3773227,3773238,3748788,3773228,3773234,3773192,3773188,3750591,3752475,3733581,3773082,3700653,3139705,2759622,3759257,3759259,3759257,3759259,3759257,3759259,3763383,3773178,3773179,1825944,3759257,3759259,3771127,3773122,3773126,3142132,3772973,3773003,3773160,3773161,3773140,3773027,3750900,3750905,3773112,3773088,3773132,3773135,3773088,3773132,3773135,3773088,3773054,3773075,3773104,3773088,3773109,3773111,2686625,2686626,3773078,3773091,3773116,3773118,3773088,3477853,3139705,3773088,3773088,3773088,3773088,3773044,3773081,3773083,3257399,3773077,3139705,3773077,3139705,292407,3773057,3772999,3773030,3633200,185622,3772953,292407,3773056,3773039,3773105,3773045,3773046,3704078,3487444,3772931,3772938,708452,3390679,3769286,3769292,3390679,708452,3772812,3772813,3773012,3773015,3772973,3773003,2785985,3553168,3553174,1490141,2924939,3772895,3772952,3772952,3772929,3772945,3772945,3650099,3760756,2785985,2134261,3043526,3771730,3772922,3771757,3502565,3731268,3772932,3772933,3772934,3722474,3722475,3140200,3220390,3770997,3770999,3771257,3771296,3772865,3772866,3772877,3734945,3734947,3680401,527730,2402961,3684691,2800176,3684691,3772845,3772849,3772852,3772864,3138717,3139705,3742783,3763441,3763465,3763472,3772834,2290653,3740149,3366010,2715176,3770962,3310539,1964660,3772801,3772796,3356691,3772639,3772641,3772639,3772641,3772779,3772771,3772735,3772681,3772698,3772681,3772698,3762725,3762726,3762727,3762730,3762731,3764603,3693038,3755323,3772660,3755323,3772660,3772629,3772638,3772646,3772656,3275815,3290158,3657536,3749957,3749958,3749983,3772636,3772602,3772580,3772565,3772494,3772549,3741243,3772544,3772475,3772485,498364,799516,3241784,3772467,3772513,3194530,3772483,3772492,3365917,2715176,3772482,3766703,3766776,3770621,3770622,3762415,3509593,3139705,3772462,3730966,3542953,3568135,3385289,3772439,3772447,2827763,2859425,3445911,3771831,3772317,3772327,3753162,3756640,3772329,3772345,3772349,3772361,3772353,3772250,3772304,3752951,3752959,3772344,3772344,3772298,3772332,3772334,3762201,3772320,3772206,3772220,3772310,3772278,3772274,3772282,3772206,3772220,3772254,3767913,3772289,3568825,3569224,3772256,3772258,3772854,3573925,3139705,3772247,3772232,3745519,3745523,3772223,3772126,3772142,3772211,3772228,3772231,3224622,3532867,1305430,3772214,3772217,3733950,3733956,3733963,2619223,2682273,3768336,3772923,3170877,3170879,3170877,3170879,1865555,1663099,3170877,3170879,3143447,3139705,3772112,3771954,3772088,3771954,3772088,3760439,3772105,3772094,3772033,3772102,3760439,3772093,3704246,2715176,3772066,3772067,3411546,3772048,3772027,3772028,3772030,3772035,3772036,3771756,3715899,3747287,3747323,1792451,3772001,3771998,3771985,3771987,3771988,3771989,3771990,3771991,3771992,3771993,3771994,3771995,3771996,3771997,3411546,3771985,3771987,3771988,3771989,3771990,3771991,3771992,3771993,3771994,3771995,3771996,3771997,3411546,3771974,3771975,3771976,3771977,3771978,3771979,3277013,3634774,3438559,3771900,3771905,3771931,3771921,3771929,3771875,3742924,3771867,3771876,3771902,3411546,3771891,1853493,3771879,3771877,3748604,3615860,3573242,3771822,3771470,3771480,3771482,3764767,3771839,3769154,3771836,1431190,3056062,3723555,3723559,3726061,3136396,3544808,3771819,3771807,3771803,3771808,3771126,3771131,3771138,3771141,3771247,3723555,3723559,3771789,3299668,3771754,3771736,3754339,3093574,2715176,3771761,3771765,3771767,3771751,2852603,3365957,2715176,3771734,3771737,3771741,2640271,2898000,3772862,3610056,2366921,3771671,3771735,3771732,2977676,2977676,3771629,3771643,3751884,3771705,3214678,3756356,3756361,3771076,3771077,3149675,3771702,3771704,3610056,2366921,3733757,3763193,3751809,3767867,3771672,3771681,3771698,2794681,2799947,3770984,3771695,3772834,3771377,3771627,3771666,3771609,3771647,3705592,3771335,1088896,3771616,3771626,1088896,3102605,3771547,3771591,3771608,3032112,3336214,3336241,1993064,1993072,2584894,3475698,2271014,3743684,2652964,3672883,2000961,2000968,3719256,3719269,3771556,3771452,1869896,3771477,3771486,3771487,3762905,3771466,3138853,3139705,3121283,3757564,3224622,3152381,3139883,3139705,3771440,3771448,3748780,3242932,3752370,3752365,3169135,3569248,3139705,3766765,3169056,3169064,3191934,1760011,1760014,3772841,3768505,3740544,3740548,3740544,3740548,3740923,3740943,3771400,3771402,3770747,3771328,3763004,3771359,3771404,3694750,3771375,3540778,3133734,3702475,3137656,3735297,3139705,3771389,3771390,3771391,3771392,3771393,3771394,3771395,3771396,3771397,3771398,3277013,3773101,3771207,3771284,3771366,3763643,3763644,3763656,3771327,3771369,3504415,3771346,3771362,3145427,3139705,2447258,2482706,3059448,2218521,2218525,2213524,3729338,2765548,2715176,2218521,2572138,3771358,3694750,3489252,3489260,3771291,3771300,3771341,3573925,3192850,3139705,3078989,2929021,3160630,3771314,3771321,3747374,3771307,3771310,3770055,3770059,3580838,3580845,3580868,2919059,3741711,3741806,3771297,3771299,400338,879424,3258852,3258863,3771093,3771097,3771170,3771187,1849532,3028430,3028433,3771273,3771281,3771276,1027420,1618686,3771214,3760449,3683729,3683731,3739151,3739154,3770267,3225056,3771229,3771207,3750240,3763023,3719212,3760897,3769276,3771220,3771235,3771221,3771231,3771212,3771193,3771205,3771210,3771212,3213878,3771225,3771207,3771223,3771213,3771188,3771155,3771155,755758,3404428,2172816,3771159,3263639,3382312,3771150,3771137,3771145,3771146,3771147,3771148,3277013,3770637,3770730,3771132,3771135,3773195,3756239,3722744,3723622,3738239,3771116,3771129,3411546,3727998,3771162,3771728,3771729,3546210,2104811,2104834,3771110,3601798,3601829,3771081,3771104,3638025,3771104,1808427,2966126,3761357,3771125,3691075,2738433,2738436,3771087,3397835,3013584,2473970,3771074,2473970,3771073,2903798,2473970,3492641,3771072,2473970,3771020,3771024,3290364,3771049,3603305,1807982,3682772,3682774,3700465,3770996,3771016,3685486,3685525,635322,635328,3771031,3072563,3771021,3583821,3770930,3248161,3479568,2715176,3487418,2852588,2715176,3770964,3694992,3770952,3770954,3164330,3459302,3139705,3150900,3139705,1576449,3745047,864852,1809331,3767426,3770920,3770922,3770926,3770869,3770870,3770871,3770872,3770873,3770874,3770875,3411546,3138720,3139705,3770847,3770848,3411546,3770804,3770808,3770809,3770813,3770768,3770787,1805872,3770780,3770785,3770791,3770761,3770762,3770764,3770767,3734118,3770676,2994423,3770670,3770666,3770683,3471918,3661293,3736321,3137947,3139705,3511220,3511275,3770602,3770632,3148946,3139705,3770567,3770586,3770597,3770609,3769091,3770576,3770583,3769091,3770541,3760107,3770545,3443941,3770536,3443941,3443941,3770326,3770332,3514917,3716119,2230946,2667615,3770537,3770517,3770517,3770517,3235614,3235617,3770513,3770397,3770438,2343030,2343036,3767019,2648472,3770477,3770479,3769736,3745229,2235355,3767950,3768139,3770389,3770421,3770424,2642034,3618334,3608824,3770379,3188205,3770374,3608886,3677331,3770331,3753423,3770341,3770344,3770331,3175090,3770225,3770253,3656769,2998838,3223210,3770280,3770281,2663845,3770261,3772974,3770259,3767149,3770230,3771158,297285,3770099,3761103,3766638,3770149,3770151,3763947,3763948,3770129,3771777,3769565,376 -- and 2003769 characters more...
-- ] --------------------------------------------------
-- 2020-02-13 06:54:22 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013999] results received
-- 2020-02-13 06:54:25 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433013999] finished - execution time: 1 s 413 ms, fetching time: 3 s 39 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:54:39 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014000] 
select COUNT(*) from customisation_files where customisation_id in
(3774591,3774590,3774579,3774559,3774566,3139599,3774559,3774560,3774561,3139599,3774559,3139599,3774559,3774493,3774558,3361796,3361798,3774493,3774540,3774505,3774541,3774425,3774450,3774456,3774462,3617491,2715176,3770762,3772741,3774484,3774352,3774420,3774440,3774440,3774398,3774404,3774414,3774398,3774404,3774414,3774410,3774333,3774408,817458,817458,3265500,3774234,3774318,3774338,3774351,3774353,3572458,3719600,2878202,2878202,3774317,3774319,3774330,3774279,3774273,3774271,3774282,3774293,3774299,3745761,3148946,3139705,3774264,3774267,3774251,3774240,2772977,3517224,3139871,3192850,3139705,3774161,3529944,3529948,3774189,3758846,3758847,3774032,3774062,3774159,3774163,965499,965502,3774034,3774048,3773945,3773945,3772120,3774098,3774099,3277013,3774037,3774045,3774083,3774086,3774088,3774092,3774066,1936057,1936059,3774063,3771575,1001783,3774054,3774034,3774048,3648514,3139860,3139705,3773804,3774008,3773804,3774008,3773990,3773961,2853709,3620163,3620166,2208714,3773924,3395801,3395801,3773922,3773897,3773896,3773883,3518973,3518976,3269972,3269988,3773634,816596,3765796,3765799,3773767,3773805,816596,3555841,3773767,3773805,3773767,3773805,3773767,3773805,2887554,3773837,3741950,3732291,3725169,3750359,3773832,3769767,3773770,3773818,3773824,3773813,3773816,3773815,3773767,3773805,3773807,1632913,2180778,2180782,3773704,3773724,3303198,3762828,312760,3771433,3144127,3139705,3773695,3773700,1920198,3773645,3773717,3773703,3731907,3773684,3572294,3259423,3139705,3730031,3045840,2251922,3105917,3105924,3773680,3773569,3773573,3731907,3770233,3772906,3772909,3266854,3773663,3773624,3773627,3773639,3209671,3139705,3773651,3188447,3773447,3773485,3773607,3773630,3769478,3771602,3773138,3773298,3773641,3773644,1849532,3269972,3269988,3773634,3773622,3773625,3773610,3771660,3773610,3773610,3773613,2942612,3773596,3170510,3773528,3569248,3139705,3773583,3773590,3773591,3411546,385631,2034895,3765473,3773575,3773579,3773429,3733431,3773564,3773565,3773535,3773539,3773528,3773472,2664814,2798236,3773460,3457999,3459304,3510323,3506147,3773315,3773323,3773498,3773494,2927454,2930191,818981,3773480,3773481,1849896,3757523,3717642,3761411,3773395,3773446,3610589,3612330,3773368,3773375,3657196,3773414,3773418,3773426,3773293,3773428,3657196,3752203,3758804,3773525,3773393,3773399,2371332,3773408,3773401,3772853,3772857,2371332,2957009,3708094,1623866,3773354,1545962,2785985,3773368,3773375,2538259,3773274,3759268,3773356,3773342,3773295,3755141,3755180,3755206,3565917,3773327,3530087,3773342,3773326,3773332,3773343,3759268,3759276,3755141,3755186,3755206,3755141,3755153,3755206,3686036,3757193,3772728,3772733,3772745,3773302,2425278,3063145,2205723,3773275,3773276,2538259,3772994,3773002,3764809,3761132,3773157,3773174,3773190,3773233,3773180,3773223,3773243,3773227,3773238,3748788,3773228,3773234,3773192,3773188,3750591,3752475,3733581,3773082,3700653,3139705,2759622,3759257,3759259,3759257,3759259,3759257,3759259,3763383,3773178,3773179,1825944,3759257,3759259,3771127,3773122,3773126,3142132,3772973,3773003,3773160,3773161,3773140,3773027,3750900,3750905,3773112,3773088,3773132,3773135,3773088,3773132,3773135,3773088,3773054,3773075,3773104,3773088,3773109,3773111,2686625,2686626,3773078,3773091,3773116,3773118,3773088,3477853,3139705,3773088,3773088,3773088,3773088,3773044,3773081,3773083,3257399,3773077,3139705,3773077,3139705,292407,3773057,3772999,3773030,3633200,185622,3772953,292407,3773056,3773039,3773105,3773045,3773046,3704078,3487444,3772931,3772938,708452,3390679,3769286,3769292,3390679,708452,3772812,3772813,3773012,3773015,3772973,3773003,2785985,3553168,3553174,1490141,2924939,3772895,3772952,3772952,3772929,3772945,3772945,3650099,3760756,2785985,2134261,3043526,3771730,3772922,3771757,3502565,3731268,3772932,3772933,3772934,3722474,3722475,3140200,3220390,3770997,3770999,3771257,3771296,3772865,3772866,3772877,3734945,3734947,3680401,527730,2402961,3684691,2800176,3684691,3772845,3772849,3772852,3772864,3138717,3139705,3742783,3763441,3763465,3763472,3772834,2290653,3740149,3366010,2715176,3770962,3310539,1964660,3772801,3772796,3356691,3772639,3772641,3772639,3772641,3772779,3772771,3772735,3772681,3772698,3772681,3772698,3762725,3762726,3762727,3762730,3762731,3764603,3693038,3755323,3772660,3755323,3772660,3772629,3772638,3772646,3772656,3275815,3290158,3657536,3749957,3749958,3749983,3772636,3772602,3772580,3772565,3772494,3772549,3741243,3772544,3772475,3772485,498364,799516,3241784,3772467,3772513,3194530,3772483,3772492,3365917,2715176,3772482,3766703,3766776,3770621,3770622,3762415,3509593,3139705,3772462,3730966,3542953,3568135,3385289,3772439,3772447,2827763,2859425,3445911,3771831,3772317,3772327,3753162,3756640,3772329,3772345,3772349,3772361,3772353,3772250,3772304,3752951,3752959,3772344,3772344,3772298,3772332,3772334,3762201,3772320,3772206,3772220,3772310,3772278,3772274,3772282,3772206,3772220,3772254,3767913,3772289,3568825,3569224,3772256,3772258,3772854,3573925,3139705,3772247,3772232,3745519,3745523,3772223,3772126,3772142,3772211,3772228,3772231,3224622,3532867,1305430,3772214,3772217,3733950,3733956,3733963,2619223,2682273,3768336,3772923,3170877,3170879,3170877,3170879,1865555,1663099,3170877,3170879,3143447,3139705,3772112,3771954,3772088,3771954,3772088,3760439,3772105,3772094,3772033,3772102,3760439,3772093,3704246,2715176,3772066,3772067,3411546,3772048,3772027,3772028,3772030,3772035,3772036,3771756,3715899,3747287,3747323,1792451,3772001,3771998,3771985,3771987,3771988,3771989,3771990,3771991,3771992,3771993,3771994,3771995,3771996,3771997,3411546,3771985,3771987,3771988,3771989,3771990,3771991,3771992,3771993,3771994,3771995,3771996,3771997,3411546,3771974,3771975,3771976,3771977,3771978,3771979,3277013,3634774,3438559,3771900,3771905,3771931,3771921,3771929,3771875,3742924,3771867,3771876,3771902,3411546,3771891,1853493,3771879,3771877,3748604,3615860,3573242,3771822,3771470,3771480,3771482,3764767,3771839,3769154,3771836,1431190,3056062,3723555,3723559,3726061,3136396,3544808,3771819,3771807,3771803,3771808,3771126,3771131,3771138,3771141,3771247,3723555,3723559,3771789,3299668,3771754,3771736,3754339,3093574,2715176,3771761,3771765,3771767,3771751,2852603,3365957,2715176,3771734,3771737,3771741,2640271,2898000,3772862,3610056,2366921,3771671,3771735,3771732,2977676,2977676,3771629,3771643,3751884,3771705,3214678,3756356,3756361,3771076,3771077,3149675,3771702,3771704,3610056,2366921,3733757,3763193,3751809,3767867,3771672,3771681,3771698,2794681,2799947,3770984,3771695,3772834,3771377,3771627,3771666,3771609,3771647,3705592,3771335,1088896,3771616,3771626,1088896,3102605,3771547,3771591,3771608,3032112,3336214,3336241,1993064,1993072,2584894,3475698,2271014,3743684,2652964,3672883,2000961,2000968,3719256,3719269,3771556,3771452,1869896,3771477,3771486,3771487,3762905,3771466,3138853,3139705,3121283,3757564,3224622,3152381,3139883,3139705,3771440,3771448,3748780,3242932,3752370,3752365,3169135,3569248,3139705,3766765,3169056,3169064,3191934,1760011,1760014,3772841,3768505,3740544,3740548,3740544,3740548,3740923,3740943,3771400,3771402,3770747,3771328,3763004,3771359,3771404,3694750,3771375,3540778,3133734,3702475,3137656,3735297,3139705,3771389,3771390,3771391,3771392,3771393,3771394,3771395,3771396,3771397,3771398,3277013,3773101,3771207,3771284,3771366,3763643,3763644,3763656,3771327,3771369,3504415,3771346,3771362,3145427,3139705,2447258,2482706,3059448,2218521,2218525,2213524,3729338,2765548,2715176,2218521,2572138,3771358,3694750,3489252,3489260,3771291,3771300,3771341,3573925,3192850,3139705,3078989,2929021,3160630,3771314,3771321,3747374,3771307,3771310,3770055,3770059,3580838,3580845,3580868,2919059,3741711,3741806,3771297,3771299,400338,879424,3258852,3258863,3771093,3771097,3771170,3771187,1849532,3028430,3028433,3771273,3771281,3771276,1027420,1618686,3771214,3760449,3683729,3683731,3739151,3739154,3770267,3225056,3771229,3771207,3750240,3763023,3719212,3760897,3769276,3771220,3771235,3771221,3771231,3771212,3771193,3771205,3771210,3771212,3213878,3771225,3771207,3771223,3771213,3771188,3771155,3771155,755758,3404428,2172816,3771159,3263639,3382312,3771150,3771137,3771145,3771146,3771147,3771148,3277013,3770637,3770730,3771132,3771135,3773195,3756239,3722744,3723622,3738239,3771116,3771129,3411546,3727998,3771162,3771728,3771729,3546210,2104811,2104834,3771110,3601798,3601829,3771081,3771104,3638025,3771104,1808427,2966126,3761357,3771125,3691075,2738433,2738436,3771087,3397835,3013584,2473970,3771074,2473970,3771073,2903798,2473970,3492641,3771072,2473970,3771020,3771024,3290364,3771049,3603305,1807982,3682772,3682774,3700465,3770996,3771016,3685486,3685525,635322,635328,3771031,3072563,3771021,3583821,3770930,3248161,3479568,2715176,3487418,2852588,2715176,3770964,3694992,3770952,3770954,3164330,3459302,3139705,3150900,3139705,1576449,3745047,864852,1809331,3767426,3770920,3770922,3770926,3770869,3770870,3770871,3770872,3770873,3770874,3770875,3411546,3138720,3139705,3770847,3770848,3411546,3770804,3770808,3770809,3770813,3770768,3770787,1805872,3770780,3770785,3770791,3770761,3770762,3770764,3770767,3734118,3770676,2994423,3770670,3770666,3770683,3471918,3661293,3736321,3137947,3139705,3511220,3511275,3770602,3770632,3148946,3139705,3770567,3770586,3770597,3770609,3769091,3770576,3770583,3769091,3770541,3760107,3770545,3443941,3770536,3443941,3443941,3770326,3770332,3514917,3716119,2230946,2667615,3770537,3770517,3770517,3770517,3235614,3235617,3770513,3770397,3770438,2343030,2343036,3767019,2648472,3770477,3770479,3769736,3745229,2235355,3767950,3768139,3770389,3770421,3770424,2642034,3618334,3608824,3770379,3188205,3770374,3608886,3677331,3770331,3753423,3770341,3770344,3770331,3175090,3770225,3770253,3656769,2998838,3223210,3770280,3770281,2663845,3770261,3772974,3770259,3767149,3770230,3771158,297285,3770099,3761103,3766638,3770149,3770151,3763947,3763948,3770129,3771777,3769 -- and 2003776 characters more...
-- ] --------------------------------------------------
-- 2020-02-13 06:54:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014000] results received
-- 2020-02-13 06:54:44 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014000] finished - execution time: 4 s 842 ms, fetching time: 111 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:55:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014001] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 06:55:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014001] results received
-- 2020-02-13 06:55:27 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014001] finished - execution time: 27 ms, fetching time: 28 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 06:55:30 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014002] 
select * from customisation_files where customisation_id in
(3774591,3774590,3774579,3774559,3774566,3139599,3774559,3774560,3774561,3139599,3774559,3139599,3774559,3774493,3774558,3361796,3361798,3774493,3774540,3774505,3774541,3774425,3774450,3774456,3774462,3617491,2715176,3770762,3772741,3774484,3774352,3774420,3774440,3774440,3774398,3774404,3774414,3774398,3774404,3774414,3774410,3774333,3774408,817458,817458,3265500,3774234,3774318,3774338,3774351,3774353,3572458,3719600,2878202,2878202,3774317,3774319,3774330,3774279,3774273,3774271,3774282,3774293,3774299,3745761,3148946,3139705,3774264,3774267,3774251,3774240,2772977,3517224,3139871,3192850,3139705,3774161,3529944,3529948,3774189,3758846,3758847,3774032,3774062,3774159,3774163,965499,965502,3774034,3774048,3773945,3773945,3772120,3774098,3774099,3277013,3774037,3774045,3774083,3774086,3774088,3774092,3774066,1936057,1936059,3774063,3771575,1001783,3774054,3774034,3774048,3648514,3139860,3139705,3773804,3774008,3773804,3774008,3773990,3773961,2853709,3620163,3620166,2208714,3773924,3395801,3395801,3773922,3773897,3773896,3773883,3518973,3518976,3269972,3269988,3773634,816596,3765796,3765799,3773767,3773805,816596,3555841,3773767,3773805,3773767,3773805,3773767,3773805,2887554,3773837,3741950,3732291,3725169,3750359,3773832,3769767,3773770,3773818,3773824,3773813,3773816,3773815,3773767,3773805,3773807,1632913,2180778,2180782,3773704,3773724,3303198,3762828,312760,3771433,3144127,3139705,3773695,3773700,1920198,3773645,3773717,3773703,3731907,3773684,3572294,3259423,3139705,3730031,3045840,2251922,3105917,3105924,3773680,3773569,3773573,3731907,3770233,3772906,3772909,3266854,3773663,3773624,3773627,3773639,3209671,3139705,3773651,3188447,3773447,3773485,3773607,3773630,3769478,3771602,3773138,3773298,3773641,3773644,1849532,3269972,3269988,3773634,3773622,3773625,3773610,3771660,3773610,3773610,3773613,2942612,3773596,3170510,3773528,3569248,3139705,3773583,3773590,3773591,3411546,385631,2034895,3765473,3773575,3773579,3773429,3733431,3773564,3773565,3773535,3773539,3773528,3773472,2664814,2798236,3773460,3457999,3459304,3510323,3506147,3773315,3773323,3773498,3773494,2927454,2930191,818981,3773480,3773481,1849896,3757523,3717642,3761411,3773395,3773446,3610589,3612330,3773368,3773375,3657196,3773414,3773418,3773426,3773293,3773428,3657196,3752203,3758804,3773525,3773393,3773399,2371332,3773408,3773401,3772853,3772857,2371332,2957009,3708094,1623866,3773354,1545962,2785985,3773368,3773375,2538259,3773274,3759268,3773356,3773342,3773295,3755141,3755180,3755206,3565917,3773327,3530087,3773342,3773326,3773332,3773343,3759268,3759276,3755141,3755186,3755206,3755141,3755153,3755206,3686036,3757193,3772728,3772733,3772745,3773302,2425278,3063145,2205723,3773275,3773276,2538259,3772994,3773002,3764809,3761132,3773157,3773174,3773190,3773233,3773180,3773223,3773243,3773227,3773238,3748788,3773228,3773234,3773192,3773188,3750591,3752475,3733581,3773082,3700653,3139705,2759622,3759257,3759259,3759257,3759259,3759257,3759259,3763383,3773178,3773179,1825944,3759257,3759259,3771127,3773122,3773126,3142132,3772973,3773003,3773160,3773161,3773140,3773027,3750900,3750905,3773112,3773088,3773132,3773135,3773088,3773132,3773135,3773088,3773054,3773075,3773104,3773088,3773109,3773111,2686625,2686626,3773078,3773091,3773116,3773118,3773088,3477853,3139705,3773088,3773088,3773088,3773088,3773044,3773081,3773083,3257399,3773077,3139705,3773077,3139705,292407,3773057,3772999,3773030,3633200,185622,3772953,292407,3773056,3773039,3773105,3773045,3773046,3704078,3487444,3772931,3772938,708452,3390679,3769286,3769292,3390679,708452,3772812,3772813,3773012,3773015,3772973,3773003,2785985,3553168,3553174,1490141,2924939,3772895,3772952,3772952,3772929,3772945,3772945,3650099,3760756,2785985,2134261,3043526,3771730,3772922,3771757,3502565,3731268,3772932,3772933,3772934,3722474,3722475,3140200,3220390,3770997,3770999,3771257,3771296,3772865,3772866,3772877,3734945,3734947,3680401,527730,2402961,3684691,2800176,3684691,3772845,3772849,3772852,3772864,3138717,3139705,3742783,3763441,3763465,3763472,3772834,2290653,3740149,3366010,2715176,3770962,3310539,1964660,3772801,3772796,3356691,3772639,3772641,3772639,3772641,3772779,3772771,3772735,3772681,3772698,3772681,3772698,3762725,3762726,3762727,3762730,3762731,3764603,3693038,3755323,3772660,3755323,3772660,3772629,3772638,3772646,3772656,3275815,3290158,3657536,3749957,3749958,3749983,3772636,3772602,3772580,3772565,3772494,3772549,3741243,3772544,3772475,3772485,498364,799516,3241784,3772467,3772513,3194530,3772483,3772492,3365917,2715176,3772482,3766703,3766776,3770621,3770622,3762415,3509593,3139705,3772462,3730966,3542953,3568135,3385289,3772439,3772447,2827763,2859425,3445911,3771831,3772317,3772327,3753162,3756640,3772329,3772345,3772349,3772361,3772353,3772250,3772304,3752951,3752959,3772344,3772344,3772298,3772332,3772334,3762201,3772320,3772206,3772220,3772310,3772278,3772274,3772282,3772206,3772220,3772254,3767913,3772289,3568825,3569224,3772256,3772258,3772854,3573925,3139705,3772247,3772232,3745519,3745523,3772223,3772126,3772142,3772211,3772228,3772231,3224622,3532867,1305430,3772214,3772217,3733950,3733956,3733963,2619223,2682273,3768336,3772923,3170877,3170879,3170877,3170879,1865555,1663099,3170877,3170879,3143447,3139705,3772112,3771954,3772088,3771954,3772088,3760439,3772105,3772094,3772033,3772102,3760439,3772093,3704246,2715176,3772066,3772067,3411546,3772048,3772027,3772028,3772030,3772035,3772036,3771756,3715899,3747287,3747323,1792451,3772001,3771998,3771985,3771987,3771988,3771989,3771990,3771991,3771992,3771993,3771994,3771995,3771996,3771997,3411546,3771985,3771987,3771988,3771989,3771990,3771991,3771992,3771993,3771994,3771995,3771996,3771997,3411546,3771974,3771975,3771976,3771977,3771978,3771979,3277013,3634774,3438559,3771900,3771905,3771931,3771921,3771929,3771875,3742924,3771867,3771876,3771902,3411546,3771891,1853493,3771879,3771877,3748604,3615860,3573242,3771822,3771470,3771480,3771482,3764767,3771839,3769154,3771836,1431190,3056062,3723555,3723559,3726061,3136396,3544808,3771819,3771807,3771803,3771808,3771126,3771131,3771138,3771141,3771247,3723555,3723559,3771789,3299668,3771754,3771736,3754339,3093574,2715176,3771761,3771765,3771767,3771751,2852603,3365957,2715176,3771734,3771737,3771741,2640271,2898000,3772862,3610056,2366921,3771671,3771735,3771732,2977676,2977676,3771629,3771643,3751884,3771705,3214678,3756356,3756361,3771076,3771077,3149675,3771702,3771704,3610056,2366921,3733757,3763193,3751809,3767867,3771672,3771681,3771698,2794681,2799947,3770984,3771695,3772834,3771377,3771627,3771666,3771609,3771647,3705592,3771335,1088896,3771616,3771626,1088896,3102605,3771547,3771591,3771608,3032112,3336214,3336241,1993064,1993072,2584894,3475698,2271014,3743684,2652964,3672883,2000961,2000968,3719256,3719269,3771556,3771452,1869896,3771477,3771486,3771487,3762905,3771466,3138853,3139705,3121283,3757564,3224622,3152381,3139883,3139705,3771440,3771448,3748780,3242932,3752370,3752365,3169135,3569248,3139705,3766765,3169056,3169064,3191934,1760011,1760014,3772841,3768505,3740544,3740548,3740544,3740548,3740923,3740943,3771400,3771402,3770747,3771328,3763004,3771359,3771404,3694750,3771375,3540778,3133734,3702475,3137656,3735297,3139705,3771389,3771390,3771391,3771392,3771393,3771394,3771395,3771396,3771397,3771398,3277013,3773101,3771207,3771284,3771366,3763643,3763644,3763656,3771327,3771369,3504415,3771346,3771362,3145427,3139705,2447258,2482706,3059448,2218521,2218525,2213524,3729338,2765548,2715176,2218521,2572138,3771358,3694750,3489252,3489260,3771291,3771300,3771341,3573925,3192850,3139705,3078989,2929021,3160630,3771314,3771321,3747374,3771307,3771310,3770055,3770059,3580838,3580845,3580868,2919059,3741711,3741806,3771297,3771299,400338,879424,3258852,3258863,3771093,3771097,3771170,3771187,1849532,3028430,3028433,3771273,3771281,3771276,1027420,1618686,3771214,3760449,3683729,3683731,3739151,3739154,3770267,3225056,3771229,3771207,3750240,3763023,3719212,3760897,3769276,3771220,3771235,3771221,3771231,3771212,3771193,3771205,3771210,3771212,3213878,3771225,3771207,3771223,3771213,3771188,3771155,3771155,755758,3404428,2172816,3771159,3263639,3382312,3771150,3771137,3771145,3771146,3771147,3771148,3277013,3770637,3770730,3771132,3771135,3773195,3756239,3722744,3723622,3738239,3771116,3771129,3411546,3727998,3771162,3771728,3771729,3546210,2104811,2104834,3771110,3601798,3601829,3771081,3771104,3638025,3771104,1808427,2966126,3761357,3771125,3691075,2738433,2738436,3771087,3397835,3013584,2473970,3771074,2473970,3771073,2903798,2473970,3492641,3771072,2473970,3771020,3771024,3290364,3771049,3603305,1807982,3682772,3682774,3700465,3770996,3771016,3685486,3685525,635322,635328,3771031,3072563,3771021,3583821,3770930,3248161,3479568,2715176,3487418,2852588,2715176,3770964,3694992,3770952,3770954,3164330,3459302,3139705,3150900,3139705,1576449,3745047,864852,1809331,3767426,3770920,3770922,3770926,3770869,3770870,3770871,3770872,3770873,3770874,3770875,3411546,3138720,3139705,3770847,3770848,3411546,3770804,3770808,3770809,3770813,3770768,3770787,1805872,3770780,3770785,3770791,3770761,3770762,3770764,3770767,3734118,3770676,2994423,3770670,3770666,3770683,3471918,3661293,3736321,3137947,3139705,3511220,3511275,3770602,3770632,3148946,3139705,3770567,3770586,3770597,3770609,3769091,3770576,3770583,3769091,3770541,3760107,3770545,3443941,3770536,3443941,3443941,3770326,3770332,3514917,3716119,2230946,2667615,3770537,3770517,3770517,3770517,3235614,3235617,3770513,3770397,3770438,2343030,2343036,3767019,2648472,3770477,3770479,3769736,3745229,2235355,3767950,3768139,3770389,3770421,3770424,2642034,3618334,3608824,3770379,3188205,3770374,3608886,3677331,3770331,3753423,3770341,3770344,3770331,3175090,3770225,3770253,3656769,2998838,3223210,3770280,3770281,2663845,3770261,3772974,3770259,3767149,3770230,3771158,297285,3770099,3761103,3766638,3770149,3770151,3763947,3763948,3770129,3771777,3769565,376 -- and 2003769 characters more...
-- ] --------------------------------------------------
-- 2020-02-13 06:55:32 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014002] results received
-- 2020-02-13 06:56:05 [default] [Production RDS-RO] [console: console [Production RDS-RO]] [session id: 1686679004] [statement id: 1433014002] finished - execution time: 1 s 777 ms, fetching time: 33 s 656 ms, total result sets count: 1
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [session id: 1618325340] connected
-- [ --------------------------------------------------
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [refactoring] [session id: 1618325340] [statement id: 1517725649] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [refactoring] [session id: 1618325340] [statement id: 1517725649] finished - execution time: 196 ms
-- [ --------------------------------------------------
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [refactoring] [session id: 1618325340] [statement id: 1517725650] 
alter table customisation_files_perceptual_hashes modify url text not null after file_type
-- ] --------------------------------------------------
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [refactoring] [session id: 1618325340] [statement id: 1517725650] error - [HY000][1290] The MySQL server is running with the --read-only option so it cannot execute this statement
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [refactoring] [session id: 1618325340] [statement id: 1517725650] finished - execution time: 114 ms
-- 2020-02-13 07:06:50 [default] [Production RDS-RO] [refactoring] [session id: 1618325340] warning - [HY000][1290] The MySQL server is running with the --read-only option so it cannot execute this statement
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [session id: 1618325341] connected
-- [ --------------------------------------------------
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725651] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725651] results received
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725651] finished - execution time: 66 ms, fetching time: 107 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725652] 
select @@event_scheduler
-- ] --------------------------------------------------
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725652] results received
-- 2020-02-13 07:07:18 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725652] finished - execution time: 88 ms, fetching time: 23 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725653] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725653] results received
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725653] finished - execution time: 99 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725654] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725654] results received
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725654] finished - execution time: 105 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725655] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725655] results received
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725655] finished - execution time: 29 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725656] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725656] results received
-- 2020-02-13 07:07:19 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725656] finished - execution time: 34 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725657] 
select @@GLOBAL.lower_case_table_names
-- ] --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725657] results received
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725657] finished - execution time: 28 ms, fetching time: 6 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725658] 
select schema_name, default_collation_name
        from information_schema.schemata
        order by if(schema() = schema_name, 1, 2), schema_name
-- ] --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725658] results received
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725658] finished - execution time: 123 ms, fetching time: 14 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725659] 
select collation_name, character_set_name,
          is_default collate utf8_general_ci = 'Yes' as is_default
        from information_schema.collations
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725659] results received
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725659] finished - execution time: 229 ms, fetching time: 44 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725660] 
select @@default_storage_engine, @@default_tmp_storage_engine
-- ] --------------------------------------------------
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725660] results received
-- 2020-02-13 07:07:20 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725660] finished - execution time: 26 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725661] 
select table_name from information_schema.tables
        where table_schema collate utf8_general_ci = 'information_schema'
          and table_name collate utf8_general_ci = 'parameters'
-- ] --------------------------------------------------
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725661] results received
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725661] finished - execution time: 100 ms, fetching time: 5 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725662] 
select table_name, table_type, table_comment, engine, table_collation
        from information_schema.tables
        where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725662] results received
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725662] finished - execution time: 183 ms, fetching time: 41 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725663] 
select
        ordinal_position,
        column_name,
        column_type,
        column_default,
        null generation_expression,
        table_name,
        column_comment,
        is_nullable,
        extra,
        collation_name
      from information_schema.columns
      where table_schema = ?
      order by table_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:21 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725663] results received
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725663] finished - execution time: 243 ms, fetching time: 170 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725664] 
select
          table_name,
          index_name,
          index_comment,
          index_type,
          non_unique,
          column_name,
          collation
        from information_schema.statistics
        where table_schema = ? and
              index_schema = ? and
              index_name collate utf8_general_ci <> 'PRIMARY'
        order by
          index_schema,
          table_name,
          index_name,
          seq_in_index
        
-- ] --------------------------------------------------
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725664] results received
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725664] finished - execution time: 249 ms, fetching time: 60 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725665] 
select
        c.constraint_name,
        c.table_name,
        c.constraint_type,
        r.match_option,
        r.update_rule,
        r.delete_rule
      from information_schema.table_constraints c
        left join information_schema.referential_constraints r on
            r.constraint_schema   = c.constraint_schema
        and r.constraint_name     = c.constraint_name
      where c.table_schema = ?
    
-- ] --------------------------------------------------
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725665] results received
-- 2020-02-13 07:07:22 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725665] finished - execution time: 310 ms, fetching time: 32 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725666] 
select
        constraint_name,
        table_name,
        column_name,
        referenced_table_schema,
        referenced_table_name,
        referenced_column_name
      from information_schema.key_column_usage
      where table_schema = ?
      order by
          table_name
        , constraint_name
        , ordinal_position
    
-- ] --------------------------------------------------
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725666] results received
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725666] finished - execution time: 184 ms, fetching time: 43 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725667] 
select
          trigger_name,
          event_object_table,
          event_manipulation,
          action_timing,
          definer
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725667] results received
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725667] finished - execution time: 217 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725668] 
select
          event_name,
          event_comment,
          definer,
          event_type = 'RECURRING' recurring,
          interval_value,
          interval_field,
          cast(coalesce(starts, execute_at) as char) starts,
          cast(ends as char) ends,
          status,
          on_completion = 'PRESERVE' preserve,
          last_executed
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725668] results received
-- 2020-02-13 07:07:23 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725668] finished - execution time: 153 ms, fetching time: 8 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725669] 
select
          routine_name,
          routine_type,
          routine_definition,
          routine_comment,
          dtd_identifier,
          definer
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725669] results received
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725669] finished - execution time: 152 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725670] 
select specific_name,
        ordinal_position,
        parameter_name,
        parameter_mode,
        dtd_identifier
      from information_schema.parameters
      where specific_schema = ? and ordinal_position > 0
      order by specific_name, ordinal_position
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725670] results received
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725670] finished - execution time: 142 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725671] 
select table_name, view_definition, definer
      from information_schema.views
      where table_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725671] results received
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725671] finished - execution time: 143 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:24 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725672] 
select routine_name, routine_definition
        from information_schema.routines
        where routine_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725672] results received
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725672] finished - execution time: 201 ms, fetching time: 2 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725673] 
select
          trigger_name,
          event_object_table,
          action_statement
        from information_schema.triggers
        where trigger_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725673] results received
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725673] finished - execution time: 329 ms, fetching time: 3 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725674] 
select
          event_name,
          event_definition
        from information_schema.events
        where event_schema = ?
      
-- ] --------------------------------------------------
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725674] results received
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [introspection] [session id: 1618325341] [statement id: 1517725674] finished - execution time: 148 ms, fetching time: 4 ms, total result sets count: 1
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [session id: 1618325341] disconnected
-- 2020-02-13 07:07:25 [default] [Production RDS-RO] [session id: 1618325342] connected
-- [ --------------------------------------------------
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725675] 
use clothes2_osC
-- ] --------------------------------------------------
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725675] finished - execution time: 46 ms
-- [ --------------------------------------------------
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725676] 
select database()
-- ] --------------------------------------------------
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725676] results received
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725676] finished - execution time: 109 ms, fetching time: 88 ms, total result sets count: 1
-- [ --------------------------------------------------
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725677] 
SELECT t.*
FROM clothes2_osC.coupons t
LIMIT 501
-- ] --------------------------------------------------
-- 2020-02-13 07:07:26 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725677] results received
-- 2020-02-13 07:07:27 [default] [Production RDS-RO] [data editor: clothes2_osC.coupons [Production RDS-RO]] [session id: 1618325342] [statement id: 1517725677] finished - execution time: 219 ms, fetching time: 299 ms, total result sets count: 1
